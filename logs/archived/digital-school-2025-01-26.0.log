2025-01-26 21:19:06 [restartedMain] INFO  c.d.s.SchoolManagementApplication - Starting SchoolManagementApplication using Java 18.0.1.1 with PID 2516 (C:\backup H\EclipseWorkspace\digitalSchool\target\classes started by rsabil in C:\backup H\EclipseWorkspace\digitalSchool)
2025-01-26 21:19:06 [restartedMain] DEBUG c.d.s.SchoolManagementApplication - Running with Spring Boot v3.3.2, Spring v6.1.11
2025-01-26 21:19:06 [restartedMain] INFO  c.d.s.SchoolManagementApplication - No active profile set, falling back to 1 default profile: "default"
2025-01-26 21:19:06 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-01-26 21:19:06 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-01-26 21:19:07 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-26 21:19:07 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 172 ms. Found 26 JPA repository interfaces.
2025-01-26 21:19:07 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 9090 (http)
2025-01-26 21:19:07 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-9090"]
2025-01-26 21:19:07 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-01-26 21:19:07 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.26]
2025-01-26 21:19:07 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-01-26 21:19:07 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1657 ms
2025-01-26 21:19:07 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-01-26 21:19:09 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-26 21:19:09 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.5.2.Final
2025-01-26 21:19:09 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-01-26 21:19:09 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-26 21:19:09 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-01-26 21:19:10 [restartedMain] WARN  o.h.e.j.e.i.JdbcEnvironmentInitiator - HHH000342: Could not obtain connection to query metadata
java.lang.NullPointerException: Cannot invoke "org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(java.sql.SQLException, String)" because the return value of "org.hibernate.resource.transaction.backend.jdbc.internal.JdbcIsolationDelegate.sqlExceptionHelper()" is null
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcIsolationDelegate.delegateWork(JdbcIsolationDelegate.java:116)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.getJdbcEnvironmentUsingJdbcMetadata(JdbcEnvironmentInitiator.java:290)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:123)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:77)
	at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:130)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:238)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:215)
	at org.hibernate.boot.model.relational.Database.<init>(Database.java:45)
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.getDatabase(InFlightMetadataCollectorImpl.java:221)
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.<init>(InFlightMetadataCollectorImpl.java:189)
	at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:171)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1431)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1502)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352)
	at com.digital.school.SchoolManagementApplication.main(SchoolManagementApplication.java:9)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:577)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
2025-01-26 21:19:10 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-01-26 21:19:11 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-26 21:19:11 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-01-26 21:19:12 [restartedMain] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 90048, SQLState: 90048
2025-01-26 21:19:12 [restartedMain] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - Version de fichier de base de données non supportée ou entête de ficher invalide dans le fichier "C:/backup H/EclipseWorkspace/digitalSchool/src/main/resources/db/digischool.mv.db"
Unsupported database file version or invalid file header in file "C:/backup H/EclipseWorkspace/digitalSchool/src/main/resources/db/digischool.mv.db" [90048-224]
2025-01-26 21:19:12 [restartedMain] ERROR o.s.o.j.LocalContainerEntityManagerFactoryBean - Failed to initialize JPA EntityManagerFactory: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution [Version de fichier de base de données non supportée ou entête de ficher invalide dans le fichier "C:/backup H/EclipseWorkspace/digitalSchool/src/main/resources/db/digischool.mv.db"
Unsupported database file version or invalid file header in file "C:/backup H/EclipseWorkspace/digitalSchool/src/main/resources/db/digischool.mv.db" [90048-224]] [n/a]
2025-01-26 21:19:12 [restartedMain] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution [Version de fichier de base de données non supportée ou entête de ficher invalide dans le fichier "C:/backup H/EclipseWorkspace/digitalSchool/src/main/resources/db/digischool.mv.db"
Unsupported database file version or invalid file header in file "C:/backup H/EclipseWorkspace/digitalSchool/src/main/resources/db/digischool.mv.db" [90048-224]] [n/a]
2025-01-26 21:19:12 [restartedMain] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-01-26 21:19:12 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-01-26 21:19:12 [restartedMain] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution [Version de fichier de base de données non supportée ou entête de ficher invalide dans le fichier "C:/backup H/EclipseWorkspace/digitalSchool/src/main/resources/db/digischool.mv.db"
Unsupported database file version or invalid file header in file "C:/backup H/EclipseWorkspace/digitalSchool/src/main/resources/db/digischool.mv.db" [90048-224]] [n/a]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1806)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352)
	at com.digital.school.SchoolManagementApplication.main(SchoolManagementApplication.java:9)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:577)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: jakarta.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution [Version de fichier de base de données non supportée ou entête de ficher invalide dans le fichier "C:/backup H/EclipseWorkspace/digitalSchool/src/main/resources/db/digischool.mv.db"
Unsupported database file version or invalid file header in file "C:/backup H/EclipseWorkspace/digitalSchool/src/main/resources/db/digischool.mv.db" [90048-224]] [n/a]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:421)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802)
	... 18 common frames omitted
Caused by: org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution [Version de fichier de base de données non supportée ou entête de ficher invalide dans le fichier "C:/backup H/EclipseWorkspace/digitalSchool/src/main/resources/db/digischool.mv.db"
Unsupported database file version or invalid file header in file "C:/backup H/EclipseWorkspace/digitalSchool/src/main/resources/db/digischool.mv.db" [90048-224]] [n/a]
	at org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:51)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:74)
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:39)
	at org.hibernate.tool.schema.internal.exec.ImprovedExtractionContextImpl.getJdbcConnection(ImprovedExtractionContextImpl.java:63)
	at org.hibernate.tool.schema.extract.spi.ExtractionContext.getQueryResults(ExtractionContext.java:43)
	at org.hibernate.tool.schema.extract.internal.SequenceInformationExtractorLegacyImpl.extractMetadata(SequenceInformationExtractorLegacyImpl.java:39)
	at org.hibernate.tool.schema.extract.internal.DatabaseInformationImpl.initializeSequences(DatabaseInformationImpl.java:66)
	at org.hibernate.tool.schema.extract.internal.DatabaseInformationImpl.<init>(DatabaseInformationImpl.java:60)
	at org.hibernate.tool.schema.internal.Helper.buildDatabaseInformation(Helper.java:185)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:98)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:280)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:322)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:457)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1506)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	... 22 common frames omitted
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Version de fichier de base de données non supportée ou entête de ficher invalide dans le fichier "C:/backup H/EclipseWorkspace/digitalSchool/src/main/resources/db/digischool.mv.db"
Unsupported database file version or invalid file header in file "C:/backup H/EclipseWorkspace/digitalSchool/src/main/resources/db/digischool.mv.db" [90048-224]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:690)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:212)
	at org.h2.mvstore.db.Store.convertMVStoreException(Store.java:158)
	at org.h2.mvstore.db.Store.<init>(Store.java:142)
	at org.h2.engine.Database.<init>(Database.java:326)
	at org.h2.engine.Engine.openSession(Engine.java:92)
	at org.h2.engine.Engine.openSession(Engine.java:222)
	at org.h2.engine.Engine.createSession(Engine.java:201)
	at org.h2.engine.SessionRemote.connectEmbeddedOrServer(SessionRemote.java:343)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:125)
	at org.h2.Driver.connect(Driver.java:59)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:120)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:360)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:202)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:461)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:550)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:98)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:111)
	at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:437)
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:46)
	... 42 common frames omitted
Caused by: org.h2.mvstore.MVStoreException: The write format 2 is smaller than the supported format 3 [2.2.224/5]
	at org.h2.mvstore.DataUtils.newMVStoreException(DataUtils.java:996)
	at org.h2.mvstore.FileStore.getUnsupportedWriteFormatException(FileStore.java:943)
	at org.h2.mvstore.FileStore.processCommonHeaderAttributes(FileStore.java:547)
	at org.h2.mvstore.RandomAccessStore.readStoreHeader(RandomAccessStore.java:227)
	at org.h2.mvstore.FileStore.start(FileStore.java:916)
	at org.h2.mvstore.MVStore.<init>(MVStore.java:289)
	at org.h2.mvstore.MVStore$Builder.open(MVStore.java:2035)
	at org.h2.mvstore.db.Store.<init>(Store.java:133)
	... 59 common frames omitted
2025-01-26 21:24:39 [restartedMain] INFO  c.d.s.SchoolManagementApplication - Starting SchoolManagementApplication using Java 18.0.1.1 with PID 25020 (C:\backup H\EclipseWorkspace\digitalSchool\target\classes started by rsabil in C:\backup H\EclipseWorkspace\digitalSchool)
2025-01-26 21:24:39 [restartedMain] DEBUG c.d.s.SchoolManagementApplication - Running with Spring Boot v3.3.2, Spring v6.1.11
2025-01-26 21:24:39 [restartedMain] INFO  c.d.s.SchoolManagementApplication - No active profile set, falling back to 1 default profile: "default"
2025-01-26 21:24:39 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-01-26 21:24:39 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-01-26 21:24:40 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-26 21:24:40 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 178 ms. Found 26 JPA repository interfaces.
2025-01-26 21:24:41 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 9090 (http)
2025-01-26 21:24:41 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-9090"]
2025-01-26 21:24:41 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-01-26 21:24:41 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.26]
2025-01-26 21:24:41 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-01-26 21:24:41 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2252 ms
2025-01-26 21:24:41 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-01-26 21:24:42 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-26 21:24:42 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.5.2.Final
2025-01-26 21:24:42 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-01-26 21:24:42 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-26 21:24:42 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-01-26 21:24:43 [restartedMain] WARN  o.h.e.j.e.i.JdbcEnvironmentInitiator - HHH000342: Could not obtain connection to query metadata
java.lang.NullPointerException: Cannot invoke "org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(java.sql.SQLException, String)" because the return value of "org.hibernate.resource.transaction.backend.jdbc.internal.JdbcIsolationDelegate.sqlExceptionHelper()" is null
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcIsolationDelegate.delegateWork(JdbcIsolationDelegate.java:116)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.getJdbcEnvironmentUsingJdbcMetadata(JdbcEnvironmentInitiator.java:290)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:123)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:77)
	at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:130)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:238)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:215)
	at org.hibernate.boot.model.relational.Database.<init>(Database.java:45)
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.getDatabase(InFlightMetadataCollectorImpl.java:221)
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.<init>(InFlightMetadataCollectorImpl.java:189)
	at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:171)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1431)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1502)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352)
	at com.digital.school.SchoolManagementApplication.main(SchoolManagementApplication.java:9)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:577)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
2025-01-26 21:24:43 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-01-26 21:24:45 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-26 21:24:45 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-01-26 21:24:46 [restartedMain] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 90048, SQLState: 90048
2025-01-26 21:24:46 [restartedMain] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - Version de fichier de base de données non supportée ou entête de ficher invalide dans le fichier "C:/backup H/EclipseWorkspace/digitalSchool/src/main/resources/db/digischool.mv.db"
Unsupported database file version or invalid file header in file "C:/backup H/EclipseWorkspace/digitalSchool/src/main/resources/db/digischool.mv.db" [90048-224]
2025-01-26 21:24:46 [restartedMain] ERROR o.s.o.j.LocalContainerEntityManagerFactoryBean - Failed to initialize JPA EntityManagerFactory: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution [Version de fichier de base de données non supportée ou entête de ficher invalide dans le fichier "C:/backup H/EclipseWorkspace/digitalSchool/src/main/resources/db/digischool.mv.db"
Unsupported database file version or invalid file header in file "C:/backup H/EclipseWorkspace/digitalSchool/src/main/resources/db/digischool.mv.db" [90048-224]] [n/a]
2025-01-26 21:24:46 [restartedMain] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution [Version de fichier de base de données non supportée ou entête de ficher invalide dans le fichier "C:/backup H/EclipseWorkspace/digitalSchool/src/main/resources/db/digischool.mv.db"
Unsupported database file version or invalid file header in file "C:/backup H/EclipseWorkspace/digitalSchool/src/main/resources/db/digischool.mv.db" [90048-224]] [n/a]
2025-01-26 21:24:46 [restartedMain] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-01-26 21:24:46 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-01-26 21:24:46 [restartedMain] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution [Version de fichier de base de données non supportée ou entête de ficher invalide dans le fichier "C:/backup H/EclipseWorkspace/digitalSchool/src/main/resources/db/digischool.mv.db"
Unsupported database file version or invalid file header in file "C:/backup H/EclipseWorkspace/digitalSchool/src/main/resources/db/digischool.mv.db" [90048-224]] [n/a]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1806)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352)
	at com.digital.school.SchoolManagementApplication.main(SchoolManagementApplication.java:9)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:577)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: jakarta.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution [Version de fichier de base de données non supportée ou entête de ficher invalide dans le fichier "C:/backup H/EclipseWorkspace/digitalSchool/src/main/resources/db/digischool.mv.db"
Unsupported database file version or invalid file header in file "C:/backup H/EclipseWorkspace/digitalSchool/src/main/resources/db/digischool.mv.db" [90048-224]] [n/a]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:421)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802)
	... 18 common frames omitted
Caused by: org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution [Version de fichier de base de données non supportée ou entête de ficher invalide dans le fichier "C:/backup H/EclipseWorkspace/digitalSchool/src/main/resources/db/digischool.mv.db"
Unsupported database file version or invalid file header in file "C:/backup H/EclipseWorkspace/digitalSchool/src/main/resources/db/digischool.mv.db" [90048-224]] [n/a]
	at org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:51)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:74)
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:39)
	at org.hibernate.tool.schema.internal.exec.ImprovedExtractionContextImpl.getJdbcConnection(ImprovedExtractionContextImpl.java:63)
	at org.hibernate.tool.schema.extract.spi.ExtractionContext.getQueryResults(ExtractionContext.java:43)
	at org.hibernate.tool.schema.extract.internal.SequenceInformationExtractorLegacyImpl.extractMetadata(SequenceInformationExtractorLegacyImpl.java:39)
	at org.hibernate.tool.schema.extract.internal.DatabaseInformationImpl.initializeSequences(DatabaseInformationImpl.java:66)
	at org.hibernate.tool.schema.extract.internal.DatabaseInformationImpl.<init>(DatabaseInformationImpl.java:60)
	at org.hibernate.tool.schema.internal.Helper.buildDatabaseInformation(Helper.java:185)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:98)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:280)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:322)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:457)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1506)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	... 22 common frames omitted
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Version de fichier de base de données non supportée ou entête de ficher invalide dans le fichier "C:/backup H/EclipseWorkspace/digitalSchool/src/main/resources/db/digischool.mv.db"
Unsupported database file version or invalid file header in file "C:/backup H/EclipseWorkspace/digitalSchool/src/main/resources/db/digischool.mv.db" [90048-224]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:690)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:212)
	at org.h2.mvstore.db.Store.convertMVStoreException(Store.java:158)
	at org.h2.mvstore.db.Store.<init>(Store.java:142)
	at org.h2.engine.Database.<init>(Database.java:326)
	at org.h2.engine.Engine.openSession(Engine.java:92)
	at org.h2.engine.Engine.openSession(Engine.java:222)
	at org.h2.engine.Engine.createSession(Engine.java:201)
	at org.h2.engine.SessionRemote.connectEmbeddedOrServer(SessionRemote.java:343)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:125)
	at org.h2.Driver.connect(Driver.java:59)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:120)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:360)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:202)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:461)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:550)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:98)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:111)
	at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:437)
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:46)
	... 42 common frames omitted
Caused by: org.h2.mvstore.MVStoreException: The write format 2 is smaller than the supported format 3 [2.2.224/5]
	at org.h2.mvstore.DataUtils.newMVStoreException(DataUtils.java:996)
	at org.h2.mvstore.FileStore.getUnsupportedWriteFormatException(FileStore.java:943)
	at org.h2.mvstore.FileStore.processCommonHeaderAttributes(FileStore.java:547)
	at org.h2.mvstore.RandomAccessStore.readStoreHeader(RandomAccessStore.java:227)
	at org.h2.mvstore.FileStore.start(FileStore.java:916)
	at org.h2.mvstore.MVStore.<init>(MVStore.java:289)
	at org.h2.mvstore.MVStore$Builder.open(MVStore.java:2035)
	at org.h2.mvstore.db.Store.<init>(Store.java:133)
	... 59 common frames omitted
2025-01-26 21:27:51 [restartedMain] INFO  c.d.s.SchoolManagementApplication - Starting SchoolManagementApplication using Java 18.0.1.1 with PID 7596 (C:\backup H\EclipseWorkspace\digitalSchool\target\classes started by rsabil in C:\backup H\EclipseWorkspace\digitalSchool)
2025-01-26 21:27:51 [restartedMain] DEBUG c.d.s.SchoolManagementApplication - Running with Spring Boot v3.3.2, Spring v6.1.11
2025-01-26 21:27:51 [restartedMain] INFO  c.d.s.SchoolManagementApplication - No active profile set, falling back to 1 default profile: "default"
2025-01-26 21:27:51 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-01-26 21:27:51 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-01-26 21:27:53 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-26 21:27:53 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 176 ms. Found 26 JPA repository interfaces.
2025-01-26 21:27:53 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 9090 (http)
2025-01-26 21:27:53 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-9090"]
2025-01-26 21:27:53 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-01-26 21:27:53 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.26]
2025-01-26 21:27:54 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-01-26 21:27:54 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2060 ms
2025-01-26 21:27:54 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-01-26 21:27:55 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-26 21:27:55 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.5.2.Final
2025-01-26 21:27:55 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-01-26 21:27:55 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-26 21:27:55 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-01-26 21:27:56 [restartedMain] WARN  o.h.e.j.e.i.JdbcEnvironmentInitiator - HHH000342: Could not obtain connection to query metadata
java.lang.NullPointerException: Cannot invoke "org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(java.sql.SQLException, String)" because the return value of "org.hibernate.resource.transaction.backend.jdbc.internal.JdbcIsolationDelegate.sqlExceptionHelper()" is null
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcIsolationDelegate.delegateWork(JdbcIsolationDelegate.java:116)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.getJdbcEnvironmentUsingJdbcMetadata(JdbcEnvironmentInitiator.java:290)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:123)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:77)
	at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:130)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:238)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:215)
	at org.hibernate.boot.model.relational.Database.<init>(Database.java:45)
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.getDatabase(InFlightMetadataCollectorImpl.java:221)
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.<init>(InFlightMetadataCollectorImpl.java:189)
	at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:171)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1431)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1502)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352)
	at com.digital.school.SchoolManagementApplication.main(SchoolManagementApplication.java:9)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:577)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
2025-01-26 21:27:56 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-01-26 21:27:57 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-26 21:27:57 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-01-26 21:27:58 [restartedMain] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 90048, SQLState: 90048
2025-01-26 21:27:58 [restartedMain] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - Version de fichier de base de données non supportée ou entête de ficher invalide dans le fichier "C:/backup H/EclipseWorkspace/digitalSchool/src/main/resources/db/digischool.mv.db"
Unsupported database file version or invalid file header in file "C:/backup H/EclipseWorkspace/digitalSchool/src/main/resources/db/digischool.mv.db" [90048-224]
2025-01-26 21:27:58 [restartedMain] ERROR o.s.o.j.LocalContainerEntityManagerFactoryBean - Failed to initialize JPA EntityManagerFactory: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution [Version de fichier de base de données non supportée ou entête de ficher invalide dans le fichier "C:/backup H/EclipseWorkspace/digitalSchool/src/main/resources/db/digischool.mv.db"
Unsupported database file version or invalid file header in file "C:/backup H/EclipseWorkspace/digitalSchool/src/main/resources/db/digischool.mv.db" [90048-224]] [n/a]
2025-01-26 21:27:58 [restartedMain] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution [Version de fichier de base de données non supportée ou entête de ficher invalide dans le fichier "C:/backup H/EclipseWorkspace/digitalSchool/src/main/resources/db/digischool.mv.db"
Unsupported database file version or invalid file header in file "C:/backup H/EclipseWorkspace/digitalSchool/src/main/resources/db/digischool.mv.db" [90048-224]] [n/a]
2025-01-26 21:27:58 [restartedMain] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-01-26 21:27:58 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-01-26 21:27:58 [restartedMain] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution [Version de fichier de base de données non supportée ou entête de ficher invalide dans le fichier "C:/backup H/EclipseWorkspace/digitalSchool/src/main/resources/db/digischool.mv.db"
Unsupported database file version or invalid file header in file "C:/backup H/EclipseWorkspace/digitalSchool/src/main/resources/db/digischool.mv.db" [90048-224]] [n/a]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1806)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352)
	at com.digital.school.SchoolManagementApplication.main(SchoolManagementApplication.java:9)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:577)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: jakarta.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution [Version de fichier de base de données non supportée ou entête de ficher invalide dans le fichier "C:/backup H/EclipseWorkspace/digitalSchool/src/main/resources/db/digischool.mv.db"
Unsupported database file version or invalid file header in file "C:/backup H/EclipseWorkspace/digitalSchool/src/main/resources/db/digischool.mv.db" [90048-224]] [n/a]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:421)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802)
	... 18 common frames omitted
Caused by: org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution [Version de fichier de base de données non supportée ou entête de ficher invalide dans le fichier "C:/backup H/EclipseWorkspace/digitalSchool/src/main/resources/db/digischool.mv.db"
Unsupported database file version or invalid file header in file "C:/backup H/EclipseWorkspace/digitalSchool/src/main/resources/db/digischool.mv.db" [90048-224]] [n/a]
	at org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:51)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:74)
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:39)
	at org.hibernate.tool.schema.internal.exec.ImprovedExtractionContextImpl.getJdbcConnection(ImprovedExtractionContextImpl.java:63)
	at org.hibernate.tool.schema.extract.spi.ExtractionContext.getQueryResults(ExtractionContext.java:43)
	at org.hibernate.tool.schema.extract.internal.SequenceInformationExtractorLegacyImpl.extractMetadata(SequenceInformationExtractorLegacyImpl.java:39)
	at org.hibernate.tool.schema.extract.internal.DatabaseInformationImpl.initializeSequences(DatabaseInformationImpl.java:66)
	at org.hibernate.tool.schema.extract.internal.DatabaseInformationImpl.<init>(DatabaseInformationImpl.java:60)
	at org.hibernate.tool.schema.internal.Helper.buildDatabaseInformation(Helper.java:185)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:98)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:280)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:322)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:457)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1506)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	... 22 common frames omitted
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Version de fichier de base de données non supportée ou entête de ficher invalide dans le fichier "C:/backup H/EclipseWorkspace/digitalSchool/src/main/resources/db/digischool.mv.db"
Unsupported database file version or invalid file header in file "C:/backup H/EclipseWorkspace/digitalSchool/src/main/resources/db/digischool.mv.db" [90048-224]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:690)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:212)
	at org.h2.mvstore.db.Store.convertMVStoreException(Store.java:158)
	at org.h2.mvstore.db.Store.<init>(Store.java:142)
	at org.h2.engine.Database.<init>(Database.java:326)
	at org.h2.engine.Engine.openSession(Engine.java:92)
	at org.h2.engine.Engine.openSession(Engine.java:222)
	at org.h2.engine.Engine.createSession(Engine.java:201)
	at org.h2.engine.SessionRemote.connectEmbeddedOrServer(SessionRemote.java:343)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:125)
	at org.h2.Driver.connect(Driver.java:59)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:120)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:360)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:202)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:461)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:550)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:98)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:111)
	at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:437)
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:46)
	... 42 common frames omitted
Caused by: org.h2.mvstore.MVStoreException: The write format 2 is smaller than the supported format 3 [2.2.224/5]
	at org.h2.mvstore.DataUtils.newMVStoreException(DataUtils.java:996)
	at org.h2.mvstore.FileStore.getUnsupportedWriteFormatException(FileStore.java:943)
	at org.h2.mvstore.FileStore.processCommonHeaderAttributes(FileStore.java:547)
	at org.h2.mvstore.RandomAccessStore.readStoreHeader(RandomAccessStore.java:227)
	at org.h2.mvstore.FileStore.start(FileStore.java:916)
	at org.h2.mvstore.MVStore.<init>(MVStore.java:289)
	at org.h2.mvstore.MVStore$Builder.open(MVStore.java:2035)
	at org.h2.mvstore.db.Store.<init>(Store.java:133)
	... 59 common frames omitted
2025-01-26 21:28:49 [restartedMain] INFO  c.d.s.SchoolManagementApplication - Starting SchoolManagementApplication using Java 18.0.1.1 with PID 13980 (C:\backup H\EclipseWorkspace\digitalSchool\target\classes started by rsabil in C:\backup H\EclipseWorkspace\digitalSchool)
2025-01-26 21:28:49 [restartedMain] DEBUG c.d.s.SchoolManagementApplication - Running with Spring Boot v3.3.2, Spring v6.1.11
2025-01-26 21:28:49 [restartedMain] INFO  c.d.s.SchoolManagementApplication - No active profile set, falling back to 1 default profile: "default"
2025-01-26 21:28:49 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-01-26 21:28:49 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-01-26 21:28:51 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-26 21:28:51 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 187 ms. Found 26 JPA repository interfaces.
2025-01-26 21:28:52 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 9090 (http)
2025-01-26 21:28:52 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-9090"]
2025-01-26 21:28:52 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-01-26 21:28:52 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.26]
2025-01-26 21:28:52 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-01-26 21:28:52 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2308 ms
2025-01-26 21:28:52 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-01-26 21:28:53 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-26 21:28:53 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.5.2.Final
2025-01-26 21:28:53 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-01-26 21:28:54 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-26 21:28:54 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-01-26 21:28:55 [restartedMain] WARN  o.h.e.j.e.i.JdbcEnvironmentInitiator - HHH000342: Could not obtain connection to query metadata
java.lang.NullPointerException: Cannot invoke "org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(java.sql.SQLException, String)" because the return value of "org.hibernate.resource.transaction.backend.jdbc.internal.JdbcIsolationDelegate.sqlExceptionHelper()" is null
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcIsolationDelegate.delegateWork(JdbcIsolationDelegate.java:116)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.getJdbcEnvironmentUsingJdbcMetadata(JdbcEnvironmentInitiator.java:290)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:123)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:77)
	at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:130)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:238)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:215)
	at org.hibernate.boot.model.relational.Database.<init>(Database.java:45)
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.getDatabase(InFlightMetadataCollectorImpl.java:221)
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.<init>(InFlightMetadataCollectorImpl.java:189)
	at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:171)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1431)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1502)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352)
	at com.digital.school.SchoolManagementApplication.main(SchoolManagementApplication.java:9)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:577)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
2025-01-26 21:28:55 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-01-26 21:28:56 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-26 21:28:56 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-01-26 21:28:57 [restartedMain] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 90048, SQLState: 90048
2025-01-26 21:28:57 [restartedMain] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - Version de fichier de base de données non supportée ou entête de ficher invalide dans le fichier "C:/backup H/EclipseWorkspace/digitalSchool/src/main/resources/db/digischool.mv.db"
Unsupported database file version or invalid file header in file "C:/backup H/EclipseWorkspace/digitalSchool/src/main/resources/db/digischool.mv.db" [90048-224]
2025-01-26 21:28:57 [restartedMain] ERROR o.s.o.j.LocalContainerEntityManagerFactoryBean - Failed to initialize JPA EntityManagerFactory: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution [Version de fichier de base de données non supportée ou entête de ficher invalide dans le fichier "C:/backup H/EclipseWorkspace/digitalSchool/src/main/resources/db/digischool.mv.db"
Unsupported database file version or invalid file header in file "C:/backup H/EclipseWorkspace/digitalSchool/src/main/resources/db/digischool.mv.db" [90048-224]] [n/a]
2025-01-26 21:28:57 [restartedMain] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution [Version de fichier de base de données non supportée ou entête de ficher invalide dans le fichier "C:/backup H/EclipseWorkspace/digitalSchool/src/main/resources/db/digischool.mv.db"
Unsupported database file version or invalid file header in file "C:/backup H/EclipseWorkspace/digitalSchool/src/main/resources/db/digischool.mv.db" [90048-224]] [n/a]
2025-01-26 21:28:57 [restartedMain] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-01-26 21:28:57 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-01-26 21:28:57 [restartedMain] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution [Version de fichier de base de données non supportée ou entête de ficher invalide dans le fichier "C:/backup H/EclipseWorkspace/digitalSchool/src/main/resources/db/digischool.mv.db"
Unsupported database file version or invalid file header in file "C:/backup H/EclipseWorkspace/digitalSchool/src/main/resources/db/digischool.mv.db" [90048-224]] [n/a]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1806)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352)
	at com.digital.school.SchoolManagementApplication.main(SchoolManagementApplication.java:9)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:577)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: jakarta.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution [Version de fichier de base de données non supportée ou entête de ficher invalide dans le fichier "C:/backup H/EclipseWorkspace/digitalSchool/src/main/resources/db/digischool.mv.db"
Unsupported database file version or invalid file header in file "C:/backup H/EclipseWorkspace/digitalSchool/src/main/resources/db/digischool.mv.db" [90048-224]] [n/a]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:421)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802)
	... 18 common frames omitted
Caused by: org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution [Version de fichier de base de données non supportée ou entête de ficher invalide dans le fichier "C:/backup H/EclipseWorkspace/digitalSchool/src/main/resources/db/digischool.mv.db"
Unsupported database file version or invalid file header in file "C:/backup H/EclipseWorkspace/digitalSchool/src/main/resources/db/digischool.mv.db" [90048-224]] [n/a]
	at org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:51)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:74)
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:39)
	at org.hibernate.tool.schema.internal.exec.ImprovedExtractionContextImpl.getJdbcConnection(ImprovedExtractionContextImpl.java:63)
	at org.hibernate.tool.schema.extract.spi.ExtractionContext.getQueryResults(ExtractionContext.java:43)
	at org.hibernate.tool.schema.extract.internal.SequenceInformationExtractorLegacyImpl.extractMetadata(SequenceInformationExtractorLegacyImpl.java:39)
	at org.hibernate.tool.schema.extract.internal.DatabaseInformationImpl.initializeSequences(DatabaseInformationImpl.java:66)
	at org.hibernate.tool.schema.extract.internal.DatabaseInformationImpl.<init>(DatabaseInformationImpl.java:60)
	at org.hibernate.tool.schema.internal.Helper.buildDatabaseInformation(Helper.java:185)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:98)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:280)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:322)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:457)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1506)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	... 22 common frames omitted
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Version de fichier de base de données non supportée ou entête de ficher invalide dans le fichier "C:/backup H/EclipseWorkspace/digitalSchool/src/main/resources/db/digischool.mv.db"
Unsupported database file version or invalid file header in file "C:/backup H/EclipseWorkspace/digitalSchool/src/main/resources/db/digischool.mv.db" [90048-224]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:690)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:212)
	at org.h2.mvstore.db.Store.convertMVStoreException(Store.java:158)
	at org.h2.mvstore.db.Store.<init>(Store.java:142)
	at org.h2.engine.Database.<init>(Database.java:326)
	at org.h2.engine.Engine.openSession(Engine.java:92)
	at org.h2.engine.Engine.openSession(Engine.java:222)
	at org.h2.engine.Engine.createSession(Engine.java:201)
	at org.h2.engine.SessionRemote.connectEmbeddedOrServer(SessionRemote.java:343)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:125)
	at org.h2.Driver.connect(Driver.java:59)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:120)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:360)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:202)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:461)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:550)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:98)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:111)
	at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:437)
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:46)
	... 42 common frames omitted
Caused by: org.h2.mvstore.MVStoreException: The write format 2 is smaller than the supported format 3 [2.2.224/5]
	at org.h2.mvstore.DataUtils.newMVStoreException(DataUtils.java:996)
	at org.h2.mvstore.FileStore.getUnsupportedWriteFormatException(FileStore.java:943)
	at org.h2.mvstore.FileStore.processCommonHeaderAttributes(FileStore.java:547)
	at org.h2.mvstore.RandomAccessStore.readStoreHeader(RandomAccessStore.java:227)
	at org.h2.mvstore.FileStore.start(FileStore.java:916)
	at org.h2.mvstore.MVStore.<init>(MVStore.java:289)
	at org.h2.mvstore.MVStore$Builder.open(MVStore.java:2035)
	at org.h2.mvstore.db.Store.<init>(Store.java:133)
	... 59 common frames omitted
2025-01-26 21:29:12 [restartedMain] INFO  c.d.s.SchoolManagementApplication - Starting SchoolManagementApplication using Java 18.0.1.1 with PID 24380 (C:\backup H\EclipseWorkspace\digitalSchool\target\classes started by rsabil in C:\backup H\EclipseWorkspace\digitalSchool)
2025-01-26 21:29:12 [restartedMain] DEBUG c.d.s.SchoolManagementApplication - Running with Spring Boot v3.3.2, Spring v6.1.11
2025-01-26 21:29:12 [restartedMain] INFO  c.d.s.SchoolManagementApplication - No active profile set, falling back to 1 default profile: "default"
2025-01-26 21:29:12 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-01-26 21:29:12 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-01-26 21:29:14 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-26 21:29:14 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 163 ms. Found 26 JPA repository interfaces.
2025-01-26 21:29:15 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 9090 (http)
2025-01-26 21:29:15 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-9090"]
2025-01-26 21:29:15 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-01-26 21:29:15 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.26]
2025-01-26 21:29:15 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-01-26 21:29:15 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2128 ms
2025-01-26 21:29:15 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-01-26 21:29:16 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-26 21:29:16 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.5.2.Final
2025-01-26 21:29:16 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-01-26 21:29:16 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-26 21:29:16 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-01-26 21:29:17 [restartedMain] WARN  o.h.e.j.e.i.JdbcEnvironmentInitiator - HHH000342: Could not obtain connection to query metadata
java.lang.NullPointerException: Cannot invoke "org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(java.sql.SQLException, String)" because the return value of "org.hibernate.resource.transaction.backend.jdbc.internal.JdbcIsolationDelegate.sqlExceptionHelper()" is null
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcIsolationDelegate.delegateWork(JdbcIsolationDelegate.java:116)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.getJdbcEnvironmentUsingJdbcMetadata(JdbcEnvironmentInitiator.java:290)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:123)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:77)
	at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:130)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:238)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:215)
	at org.hibernate.boot.model.relational.Database.<init>(Database.java:45)
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.getDatabase(InFlightMetadataCollectorImpl.java:221)
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.<init>(InFlightMetadataCollectorImpl.java:189)
	at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:171)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1431)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1502)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352)
	at com.digital.school.SchoolManagementApplication.main(SchoolManagementApplication.java:9)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:577)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
2025-01-26 21:29:17 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-01-26 21:29:18 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-26 21:29:18 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-01-26 21:29:19 [restartedMain] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 90048, SQLState: 90048
2025-01-26 21:29:19 [restartedMain] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - Version de fichier de base de données non supportée ou entête de ficher invalide dans le fichier "C:/backup H/EclipseWorkspace/digitalSchool/src/main/resources/db/digischool.mv.db"
Unsupported database file version or invalid file header in file "C:/backup H/EclipseWorkspace/digitalSchool/src/main/resources/db/digischool.mv.db" [90048-224]
2025-01-26 21:29:19 [restartedMain] ERROR o.s.o.j.LocalContainerEntityManagerFactoryBean - Failed to initialize JPA EntityManagerFactory: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution [Version de fichier de base de données non supportée ou entête de ficher invalide dans le fichier "C:/backup H/EclipseWorkspace/digitalSchool/src/main/resources/db/digischool.mv.db"
Unsupported database file version or invalid file header in file "C:/backup H/EclipseWorkspace/digitalSchool/src/main/resources/db/digischool.mv.db" [90048-224]] [n/a]
2025-01-26 21:29:19 [restartedMain] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution [Version de fichier de base de données non supportée ou entête de ficher invalide dans le fichier "C:/backup H/EclipseWorkspace/digitalSchool/src/main/resources/db/digischool.mv.db"
Unsupported database file version or invalid file header in file "C:/backup H/EclipseWorkspace/digitalSchool/src/main/resources/db/digischool.mv.db" [90048-224]] [n/a]
2025-01-26 21:29:19 [restartedMain] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-01-26 21:29:19 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-01-26 21:29:19 [restartedMain] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution [Version de fichier de base de données non supportée ou entête de ficher invalide dans le fichier "C:/backup H/EclipseWorkspace/digitalSchool/src/main/resources/db/digischool.mv.db"
Unsupported database file version or invalid file header in file "C:/backup H/EclipseWorkspace/digitalSchool/src/main/resources/db/digischool.mv.db" [90048-224]] [n/a]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1806)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352)
	at com.digital.school.SchoolManagementApplication.main(SchoolManagementApplication.java:9)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:577)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: jakarta.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution [Version de fichier de base de données non supportée ou entête de ficher invalide dans le fichier "C:/backup H/EclipseWorkspace/digitalSchool/src/main/resources/db/digischool.mv.db"
Unsupported database file version or invalid file header in file "C:/backup H/EclipseWorkspace/digitalSchool/src/main/resources/db/digischool.mv.db" [90048-224]] [n/a]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:421)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802)
	... 18 common frames omitted
Caused by: org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution [Version de fichier de base de données non supportée ou entête de ficher invalide dans le fichier "C:/backup H/EclipseWorkspace/digitalSchool/src/main/resources/db/digischool.mv.db"
Unsupported database file version or invalid file header in file "C:/backup H/EclipseWorkspace/digitalSchool/src/main/resources/db/digischool.mv.db" [90048-224]] [n/a]
	at org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:51)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:74)
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:39)
	at org.hibernate.tool.schema.internal.exec.ImprovedExtractionContextImpl.getJdbcConnection(ImprovedExtractionContextImpl.java:63)
	at org.hibernate.tool.schema.extract.spi.ExtractionContext.getQueryResults(ExtractionContext.java:43)
	at org.hibernate.tool.schema.extract.internal.SequenceInformationExtractorLegacyImpl.extractMetadata(SequenceInformationExtractorLegacyImpl.java:39)
	at org.hibernate.tool.schema.extract.internal.DatabaseInformationImpl.initializeSequences(DatabaseInformationImpl.java:66)
	at org.hibernate.tool.schema.extract.internal.DatabaseInformationImpl.<init>(DatabaseInformationImpl.java:60)
	at org.hibernate.tool.schema.internal.Helper.buildDatabaseInformation(Helper.java:185)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:98)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:280)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:322)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:457)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1506)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	... 22 common frames omitted
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Version de fichier de base de données non supportée ou entête de ficher invalide dans le fichier "C:/backup H/EclipseWorkspace/digitalSchool/src/main/resources/db/digischool.mv.db"
Unsupported database file version or invalid file header in file "C:/backup H/EclipseWorkspace/digitalSchool/src/main/resources/db/digischool.mv.db" [90048-224]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:690)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:212)
	at org.h2.mvstore.db.Store.convertMVStoreException(Store.java:158)
	at org.h2.mvstore.db.Store.<init>(Store.java:142)
	at org.h2.engine.Database.<init>(Database.java:326)
	at org.h2.engine.Engine.openSession(Engine.java:92)
	at org.h2.engine.Engine.openSession(Engine.java:222)
	at org.h2.engine.Engine.createSession(Engine.java:201)
	at org.h2.engine.SessionRemote.connectEmbeddedOrServer(SessionRemote.java:343)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:125)
	at org.h2.Driver.connect(Driver.java:59)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:120)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:360)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:202)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:461)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:550)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:98)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:111)
	at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:437)
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:46)
	... 42 common frames omitted
Caused by: org.h2.mvstore.MVStoreException: The write format 2 is smaller than the supported format 3 [2.2.224/5]
	at org.h2.mvstore.DataUtils.newMVStoreException(DataUtils.java:996)
	at org.h2.mvstore.FileStore.getUnsupportedWriteFormatException(FileStore.java:943)
	at org.h2.mvstore.FileStore.processCommonHeaderAttributes(FileStore.java:547)
	at org.h2.mvstore.RandomAccessStore.readStoreHeader(RandomAccessStore.java:227)
	at org.h2.mvstore.FileStore.start(FileStore.java:916)
	at org.h2.mvstore.MVStore.<init>(MVStore.java:289)
	at org.h2.mvstore.MVStore$Builder.open(MVStore.java:2035)
	at org.h2.mvstore.db.Store.<init>(Store.java:133)
	... 59 common frames omitted
2025-01-26 21:30:37 [restartedMain] INFO  c.d.s.SchoolManagementApplication - Starting SchoolManagementApplication using Java 18.0.1.1 with PID 3688 (C:\backup H\EclipseWorkspace\digitalSchool\target\classes started by rsabil in C:\backup H\EclipseWorkspace\digitalSchool)
2025-01-26 21:30:37 [restartedMain] DEBUG c.d.s.SchoolManagementApplication - Running with Spring Boot v3.3.2, Spring v6.1.11
2025-01-26 21:30:37 [restartedMain] INFO  c.d.s.SchoolManagementApplication - No active profile set, falling back to 1 default profile: "default"
2025-01-26 21:30:38 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-01-26 21:30:38 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-01-26 21:30:39 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-26 21:30:39 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 187 ms. Found 26 JPA repository interfaces.
2025-01-26 21:30:40 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 9090 (http)
2025-01-26 21:30:40 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-9090"]
2025-01-26 21:30:40 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-01-26 21:30:40 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.26]
2025-01-26 21:30:40 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-01-26 21:30:40 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2038 ms
2025-01-26 21:30:40 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-01-26 21:30:41 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-26 21:30:41 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.5.2.Final
2025-01-26 21:30:41 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-01-26 21:30:41 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-26 21:30:41 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-01-26 21:30:42 [restartedMain] WARN  o.h.e.j.e.i.JdbcEnvironmentInitiator - HHH000342: Could not obtain connection to query metadata
java.lang.NullPointerException: Cannot invoke "org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(java.sql.SQLException, String)" because the return value of "org.hibernate.resource.transaction.backend.jdbc.internal.JdbcIsolationDelegate.sqlExceptionHelper()" is null
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcIsolationDelegate.delegateWork(JdbcIsolationDelegate.java:116)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.getJdbcEnvironmentUsingJdbcMetadata(JdbcEnvironmentInitiator.java:290)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:123)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:77)
	at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:130)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:238)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:215)
	at org.hibernate.boot.model.relational.Database.<init>(Database.java:45)
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.getDatabase(InFlightMetadataCollectorImpl.java:221)
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.<init>(InFlightMetadataCollectorImpl.java:189)
	at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:171)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1431)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1502)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352)
	at com.digital.school.SchoolManagementApplication.main(SchoolManagementApplication.java:9)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:577)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
2025-01-26 21:30:42 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-01-26 21:30:43 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-26 21:30:43 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists attendances cascade 
2025-01-26 21:30:43 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-01-26 21:30:44 [restartedMain] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 90048, SQLState: 90048
2025-01-26 21:30:44 [restartedMain] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - Version de fichier de base de données non supportée ou entête de ficher invalide dans le fichier "C:/backup H/EclipseWorkspace/digitalSchool/src/main/resources/db/digischool.mv.db"
Unsupported database file version or invalid file header in file "C:/backup H/EclipseWorkspace/digitalSchool/src/main/resources/db/digischool.mv.db" [90048-224]
2025-01-26 21:30:44 [restartedMain] ERROR o.s.o.j.LocalContainerEntityManagerFactoryBean - Failed to initialize JPA EntityManagerFactory: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution [Version de fichier de base de données non supportée ou entête de ficher invalide dans le fichier "C:/backup H/EclipseWorkspace/digitalSchool/src/main/resources/db/digischool.mv.db"
Unsupported database file version or invalid file header in file "C:/backup H/EclipseWorkspace/digitalSchool/src/main/resources/db/digischool.mv.db" [90048-224]] [n/a]
2025-01-26 21:30:44 [restartedMain] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution [Version de fichier de base de données non supportée ou entête de ficher invalide dans le fichier "C:/backup H/EclipseWorkspace/digitalSchool/src/main/resources/db/digischool.mv.db"
Unsupported database file version or invalid file header in file "C:/backup H/EclipseWorkspace/digitalSchool/src/main/resources/db/digischool.mv.db" [90048-224]] [n/a]
2025-01-26 21:30:44 [restartedMain] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-01-26 21:30:44 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-01-26 21:30:44 [restartedMain] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution [Version de fichier de base de données non supportée ou entête de ficher invalide dans le fichier "C:/backup H/EclipseWorkspace/digitalSchool/src/main/resources/db/digischool.mv.db"
Unsupported database file version or invalid file header in file "C:/backup H/EclipseWorkspace/digitalSchool/src/main/resources/db/digischool.mv.db" [90048-224]] [n/a]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1806)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352)
	at com.digital.school.SchoolManagementApplication.main(SchoolManagementApplication.java:9)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:577)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: jakarta.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution [Version de fichier de base de données non supportée ou entête de ficher invalide dans le fichier "C:/backup H/EclipseWorkspace/digitalSchool/src/main/resources/db/digischool.mv.db"
Unsupported database file version or invalid file header in file "C:/backup H/EclipseWorkspace/digitalSchool/src/main/resources/db/digischool.mv.db" [90048-224]] [n/a]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:421)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802)
	... 18 common frames omitted
Caused by: org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution [Version de fichier de base de données non supportée ou entête de ficher invalide dans le fichier "C:/backup H/EclipseWorkspace/digitalSchool/src/main/resources/db/digischool.mv.db"
Unsupported database file version or invalid file header in file "C:/backup H/EclipseWorkspace/digitalSchool/src/main/resources/db/digischool.mv.db" [90048-224]] [n/a]
	at org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:51)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:74)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.getIsolatedConnection(GenerationTargetToDatabase.java:60)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.jdbcStatement(GenerationTargetToDatabase.java:112)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:79)
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233)
	at org.hibernate.tool.schema.internal.Helper.applySqlStrings(Helper.java:217)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropTables(SchemaDropperImpl.java:381)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropConstraintsTablesSequences(SchemaDropperImpl.java:253)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:215)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:185)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:155)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:115)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:238)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:322)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:457)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1506)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	... 22 common frames omitted
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Version de fichier de base de données non supportée ou entête de ficher invalide dans le fichier "C:/backup H/EclipseWorkspace/digitalSchool/src/main/resources/db/digischool.mv.db"
Unsupported database file version or invalid file header in file "C:/backup H/EclipseWorkspace/digitalSchool/src/main/resources/db/digischool.mv.db" [90048-224]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:690)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:212)
	at org.h2.mvstore.db.Store.convertMVStoreException(Store.java:158)
	at org.h2.mvstore.db.Store.<init>(Store.java:142)
	at org.h2.engine.Database.<init>(Database.java:326)
	at org.h2.engine.Engine.openSession(Engine.java:92)
	at org.h2.engine.Engine.openSession(Engine.java:222)
	at org.h2.engine.Engine.createSession(Engine.java:201)
	at org.h2.engine.SessionRemote.connectEmbeddedOrServer(SessionRemote.java:343)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:125)
	at org.h2.Driver.connect(Driver.java:59)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:120)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:360)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:202)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:461)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:550)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:98)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:111)
	at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:437)
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:46)
	... 45 common frames omitted
Caused by: org.h2.mvstore.MVStoreException: The write format 2 is smaller than the supported format 3 [2.2.224/5]
	at org.h2.mvstore.DataUtils.newMVStoreException(DataUtils.java:996)
	at org.h2.mvstore.FileStore.getUnsupportedWriteFormatException(FileStore.java:943)
	at org.h2.mvstore.FileStore.processCommonHeaderAttributes(FileStore.java:547)
	at org.h2.mvstore.RandomAccessStore.readStoreHeader(RandomAccessStore.java:227)
	at org.h2.mvstore.FileStore.start(FileStore.java:916)
	at org.h2.mvstore.MVStore.<init>(MVStore.java:289)
	at org.h2.mvstore.MVStore$Builder.open(MVStore.java:2035)
	at org.h2.mvstore.db.Store.<init>(Store.java:133)
	... 62 common frames omitted
2025-01-26 21:32:18 [restartedMain] INFO  c.d.s.SchoolManagementApplication - Starting SchoolManagementApplication using Java 18.0.1.1 with PID 440 (C:\backup H\EclipseWorkspace\digitalSchool\target\classes started by rsabil in C:\backup H\EclipseWorkspace\digitalSchool)
2025-01-26 21:32:18 [restartedMain] DEBUG c.d.s.SchoolManagementApplication - Running with Spring Boot v3.3.2, Spring v6.1.11
2025-01-26 21:32:18 [restartedMain] INFO  c.d.s.SchoolManagementApplication - No active profile set, falling back to 1 default profile: "default"
2025-01-26 21:32:18 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-01-26 21:32:18 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-01-26 21:32:19 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-26 21:32:19 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 188 ms. Found 26 JPA repository interfaces.
2025-01-26 21:32:20 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 9090 (http)
2025-01-26 21:32:20 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-9090"]
2025-01-26 21:32:20 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-01-26 21:32:20 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.26]
2025-01-26 21:32:20 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-01-26 21:32:20 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2370 ms
2025-01-26 21:32:20 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-01-26 21:32:20 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:file:./src/main/resources/db/digischool user=
2025-01-26 21:32:20 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-01-26 21:32:20 [restartedMain] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:file:./src/main/resources/db/digischool'
2025-01-26 21:32:20 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-26 21:32:21 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.5.2.Final
2025-01-26 21:32:21 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-01-26 21:32:21 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-26 21:32:21 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-01-26 21:32:22 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-26 21:32:22 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists attendances cascade 
2025-01-26 21:32:22 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists class_subjects cascade 
2025-01-26 21:32:22 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists classes cascade 
2025-01-26 21:32:22 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists courses cascade 
2025-01-26 21:32:22 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists documents cascade 
2025-01-26 21:32:22 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists event_participants cascade 
2025-01-26 21:32:22 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists events cascade 
2025-01-26 21:32:22 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists exam_results cascade 
2025-01-26 21:32:22 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists exams cascade 
2025-01-26 21:32:22 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists invoice_items cascade 
2025-01-26 21:32:22 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists invoices cascade 
2025-01-26 21:32:22 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists learning_resources cascade 
2025-01-26 21:32:22 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists level_subjects cascade 
2025-01-26 21:32:22 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists levels cascade 
2025-01-26 21:32:22 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists messages cascade 
2025-01-26 21:32:22 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists parent_profiles cascade 
2025-01-26 21:32:22 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists parent_student_associations cascade 
2025-01-26 21:32:22 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists payment_reminders cascade 
2025-01-26 21:32:22 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists payments cascade 
2025-01-26 21:32:22 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists permissions cascade 
2025-01-26 21:32:22 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists role_permissions cascade 
2025-01-26 21:32:22 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists roles cascade 
2025-01-26 21:32:22 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists room_equipment cascade 
2025-01-26 21:32:22 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists rooms cascade 
2025-01-26 21:32:22 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists school_subscriptions cascade 
2025-01-26 21:32:22 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists schools cascade 
2025-01-26 21:32:22 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists student_exams cascade 
2025-01-26 21:32:22 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists student_grades cascade 
2025-01-26 21:32:22 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists student_homework cascade 
2025-01-26 21:32:22 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists student_profiles cascade 
2025-01-26 21:32:22 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists subjects cascade 
2025-01-26 21:32:22 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists subscription_plans cascade 
2025-01-26 21:32:22 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists user_roles cascade 
2025-01-26 21:32:22 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists users cascade 
2025-01-26 21:32:22 [restartedMain] DEBUG org.hibernate.SQL - create table attendances (course_id bigint not null, id bigint generated by default as identity, recorded_at timestamp(6), recorded_by_id bigint, student_id bigint not null, justification TEXT, status enum ('ABSENT','EXCUSED','LATE','PRESENT') not null, primary key (id))
2025-01-26 21:32:22 [restartedMain] DEBUG org.hibernate.SQL - create table class_subjects (class_id bigint not null, subject_id bigint not null, primary key (class_id, subject_id))
2025-01-26 21:32:22 [restartedMain] DEBUG org.hibernate.SQL - create table classes (max_students integer, id bigint generated by default as identity, level_id bigint not null, name varchar(255) not null, school_year varchar(255), primary key (id))
2025-01-26 21:32:22 [restartedMain] DEBUG org.hibernate.SQL - create table courses (class_id bigint not null, end_time timestamp(6), id bigint generated by default as identity, professor_id bigint not null, start_time timestamp(6), subject_id bigint not null, description TEXT, room varchar(255), primary key (id))
2025-01-26 21:32:22 [restartedMain] DEBUG org.hibernate.SQL - create table documents (is_validated boolean, file_size bigint, id bigint generated by default as identity, parent_id bigint, student_id bigint, uploaded_at timestamp(6), uploaded_by_id bigint, validated_at timestamp(6), validated_by_id bigint, category varchar(255) not null, description TEXT, file_path varchar(255) not null, mime_type varchar(255), name varchar(255) not null, type varchar(255) not null, primary key (id))
2025-01-26 21:32:22 [restartedMain] DEBUG org.hibernate.SQL - create table event_participants (event_id bigint not null, user_id bigint not null, primary key (event_id, user_id))
2025-01-26 21:32:22 [restartedMain] DEBUG org.hibernate.SQL - create table events (all_day boolean not null, created_by_id bigint, end_time timestamp(6) not null, id bigint generated by default as identity, start_time timestamp(6) not null, background_color varchar(255), description TEXT, location varchar(255), text_color varchar(255), title varchar(255) not null, type enum ('COURSE','EVENT','EXAM','MEETING') not null, primary key (id))
2025-01-26 21:32:22 [restartedMain] DEBUG org.hibernate.SQL - create table exam_results (class_average float(53), failed_students integer, highest_score float(53), lowest_score float(53), passed_students integer, total_students integer, exam_id bigint not null unique, id bigint generated by default as identity, published_at timestamp(6), published_by_id bigint, top_scorer_id bigint, primary key (id))
2025-01-26 21:32:22 [restartedMain] DEBUG org.hibernate.SQL - create table exams (duration integer not null, is_published boolean not null, max_score float(53) not null, class_id bigint not null, created_at timestamp(6), created_by_id bigint, exam_date timestamp(6) not null, id bigint generated by default as identity, subject_id bigint not null, description TEXT, name varchar(255) not null, status enum ('CANCELLED','COMPLETED','IN_PROGRESS','SCHEDULED') not null, primary key (id))
2025-01-26 21:32:22 [restartedMain] DEBUG org.hibernate.SQL - create table invoice_items (amount numeric(10,2), quantity integer, total numeric(10,2), id bigint generated by default as identity, invoice_id bigint, description varchar(255), type varchar(255), primary key (id))
2025-01-26 21:32:22 [restartedMain] DEBUG org.hibernate.SQL - create table invoices (installment_count integer, installment_enabled boolean not null, reminder_count integer, total_amount numeric(10,2), due_date timestamp(6), id bigint generated by default as identity, issue_date timestamp(6), last_reminder_sent timestamp(6), parent_id bigint, student_id bigint, invoice_number varchar(255) unique, notes varchar(255), pdf_path TEXT, status varchar(255), primary key (id))
2025-01-26 21:32:22 [restartedMain] DEBUG org.hibernate.SQL - create table learning_resources (id bigint generated by default as identity, subject_id bigint, uploaded_at timestamp(6), uploaded_by_id bigint, description varchar(255), title varchar(255), type varchar(255), url varchar(255), primary key (id))
2025-01-26 21:32:22 [restartedMain] DEBUG org.hibernate.SQL - create table level_subjects (level_id bigint not null, subject_id bigint not null, primary key (level_id, subject_id))
2025-01-26 21:32:22 [restartedMain] DEBUG org.hibernate.SQL - create table levels ("order" integer not null, id bigint generated by default as identity, code varchar(255) not null unique, cycle varchar(255) not null, name varchar(255) not null, level_name enum ('CE1','CE2','CINQUIEME','CM1','CM2','CP','PREMIERE','QUATRIEME','SECONDE','SIXIEME','TERMINALE','TROISIEME') not null, primary key (id))
2025-01-26 21:32:22 [restartedMain] DEBUG org.hibernate.SQL - create table messages (is_read boolean not null, id bigint generated by default as identity, read_at timestamp(6), recipient_id bigint not null, sender_id bigint not null, sent_at timestamp(6), content TEXT not null, subject varchar(255) not null, primary key (id))
2025-01-26 21:32:22 [restartedMain] DEBUG org.hibernate.SQL - create table parent_profiles (id bigint generated by default as identity, parent_id bigint not null unique, additional_info TEXT, marital_status varchar(255), preferred_contact_method varchar(255), preferred_contact_time varchar(255), profession varchar(255), work_address varchar(255), work_phone varchar(255), primary key (id))
2025-01-26 21:32:22 [restartedMain] DEBUG org.hibernate.SQL - create table parent_student_associations (emergency_contact boolean, has_custody boolean, is_primary_contact boolean, is_validated boolean, created_at timestamp(6), created_by_id bigint, id bigint generated by default as identity, parent_id bigint not null, student_id bigint not null, validated_at timestamp(6), validated_by_id bigint, relationship varchar(255) not null, primary key (id))
2025-01-26 21:32:22 [restartedMain] DEBUG org.hibernate.SQL - create table payment_reminders (id bigint generated by default as identity, invoice_id bigint, sent_at timestamp(6), content varchar(255), status varchar(255), type varchar(255), primary key (id))
2025-01-26 21:32:22 [restartedMain] DEBUG org.hibernate.SQL - create table payments (amount numeric(10,2), id bigint generated by default as identity, invoice_id bigint, payment_date timestamp(6), error_message varchar(255), payment_method varchar(255), receipt_path TEXT, status varchar(255), transaction_id varchar(255), primary key (id))
2025-01-26 21:32:22 [restartedMain] DEBUG org.hibernate.SQL - create table permissions (id bigint generated by default as identity, description varchar(255), name enum ('MANAGE_ATTENDANCE','MANAGE_CLASSES','MANAGE_COURSES','MANAGE_EVENTS','MANAGE_EXAMS','MANAGE_USERS','SUBMIT_HOMEWORK','VIEW_CALENDAR','VIEW_DASHBOARD','VIEW_RESULTS') not null unique, primary key (id))
2025-01-26 21:32:22 [restartedMain] DEBUG org.hibernate.SQL - create table role_permissions (permission_id bigint not null, role_id bigint not null, primary key (permission_id, role_id))
2025-01-26 21:32:22 [restartedMain] DEBUG org.hibernate.SQL - create table roles (id bigint generated by default as identity, name enum ('ROLE_ADMIN','ROLE_PARENT','ROLE_PROFESSOR','ROLE_STUDENT') not null unique, primary key (id))
2025-01-26 21:32:22 [restartedMain] DEBUG org.hibernate.SQL - create table room_equipment (room_id bigint not null, equipment varchar(255))
2025-01-26 21:32:22 [restartedMain] DEBUG org.hibernate.SQL - create table rooms (floor_number integer, is_accessible boolean, max_capacity integer, id bigint generated by default as identity, building_name varchar(255), description TEXT, maintenance_notes TEXT, name varchar(255) not null unique, status varchar(255) not null, primary key (id))
2025-01-26 21:32:22 [restartedMain] DEBUG org.hibernate.SQL - create table school_subscriptions (auto_renew boolean, created_at timestamp(6), end_date timestamp(6) not null, id bigint generated by default as identity, plan_id bigint, school_id bigint, start_date timestamp(6) not null, updated_at timestamp(6), status varchar(255), primary key (id))
2025-01-26 21:32:22 [restartedMain] DEBUG org.hibernate.SQL - create table schools (created_at timestamp(6), id bigint generated by default as identity, updated_at timestamp(6), address varchar(255), city varchar(255), code varchar(255) not null unique, country varchar(255), email varchar(255), logo_url varchar(255), name varchar(255) not null, phone varchar(255), status varchar(255), website varchar(255), primary key (id))
2025-01-26 21:32:22 [restartedMain] DEBUG org.hibernate.SQL - create table student_exams (is_present boolean not null, score float(53), exam_id bigint not null, graded_at timestamp(6), graded_by_id bigint, id bigint generated by default as identity, student_id bigint not null, submitted_at timestamp(6), remarks TEXT, primary key (id))
2025-01-26 21:32:22 [restartedMain] DEBUG org.hibernate.SQL - create table student_grades (class_average float(53), grade_value float(24), date timestamp(6), graded_by_id bigint, id bigint generated by default as identity, student_id bigint, subject_id bigint, comments varchar(255), title varchar(255), primary key (id))
2025-01-26 21:32:22 [restartedMain] DEBUG org.hibernate.SQL - create table student_homework (grade float(53), assigned_by_id bigint, due_date timestamp(6), id bigint generated by default as identity, student_id bigint, subject_id bigint, description varchar(255), feedback varchar(255), status varchar(255), submission_path varchar(255), title varchar(255), primary key (id))
2025-01-26 21:32:22 [restartedMain] DEBUG org.hibernate.SQL - create table student_profiles (birth_date date, has_allergies boolean, id bigint generated by default as identity, student_id bigint not null unique, allergies_details TEXT, birth_place varchar(255), blood_type varchar(255), emergency_contact varchar(255), emergency_phone varchar(255), gender varchar(255), medical_info TEXT, nationality varchar(255), photo_path varchar(255), special_needs TEXT, primary key (id))
2025-01-26 21:32:22 [restartedMain] DEBUG org.hibernate.SQL - create table subjects (coefficient float(53) not null, is_optional boolean, id bigint generated by default as identity, code varchar(255) not null unique, description TEXT, name varchar(255) not null unique, primary key (id))
2025-01-26 21:32:22 [restartedMain] DEBUG org.hibernate.SQL - create table subscription_plans (duration_months integer not null, is_active boolean, max_students integer, max_teachers integer, price numeric(38,2) not null, created_at timestamp(6), id bigint generated by default as identity, updated_at timestamp(6), code varchar(255) not null unique, description varchar(255), features VARCHAR(4000), name varchar(255) not null, primary key (id))
2025-01-26 21:32:22 [restartedMain] DEBUG org.hibernate.SQL - create table user_roles (role_id bigint not null, user_id bigint not null, primary key (role_id, user_id))
2025-01-26 21:32:22 [restartedMain] DEBUG org.hibernate.SQL - create table users (enabled boolean not null, class_id bigint, id bigint generated by default as identity, email varchar(255) unique, first_name varchar(255), last_name varchar(255), password varchar(255), username varchar(255) not null unique, primary key (id))
2025-01-26 21:32:22 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists attendances add constraint FKg8lphmp6k3q3l6gj7vl359tss foreign key (course_id) references courses
2025-01-26 21:32:22 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists attendances add constraint FKkwnledkii6f9l9dgpde0a9tv9 foreign key (recorded_by_id) references users
2025-01-26 21:32:22 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists attendances add constraint FK8rw9g2dvy0k41jwi5750bt1y5 foreign key (student_id) references users
2025-01-26 21:32:22 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists class_subjects add constraint FKck6avvuoer3mgm2mbjgs0gw6m foreign key (subject_id) references subjects
2025-01-26 21:32:22 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists class_subjects add constraint FKqj4bwb8mpht4mqjlx321qt7i0 foreign key (class_id) references classes
2025-01-26 21:32:22 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists classes add constraint FK50gy8ctobyp3hp4bbfmsfspra foreign key (level_id) references levels
2025-01-26 21:32:22 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists courses add constraint FKqjnhm94oa5lu7111u8ii2gna9 foreign key (class_id) references classes
2025-01-26 21:32:22 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists courses add constraint FKt423twvp6smhwx073dsqmwcpc foreign key (professor_id) references users
2025-01-26 21:32:22 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists courses add constraint FK5tckdihu5akp5nkxiacx1gfhi foreign key (subject_id) references subjects
2025-01-26 21:32:22 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists documents add constraint FKjk1sknm9o5hc52thd7lt0y8pw foreign key (parent_id) references users
2025-01-26 21:32:22 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists documents add constraint FKl8jfa6b5rwoypt1i3j7i362s1 foreign key (student_id) references users
2025-01-26 21:32:22 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists documents add constraint FKa8xyugvg1b1gjr07r5057pn5 foreign key (uploaded_by_id) references users
2025-01-26 21:32:22 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists documents add constraint FK80r7dshfnya5u81v195l36ny5 foreign key (validated_by_id) references users
2025-01-26 21:32:22 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists event_participants add constraint FKre6m0d4mgt4351tytlkac9jvf foreign key (user_id) references users
2025-01-26 21:32:22 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists event_participants add constraint FK2x391urx4up03f4jp2y9mdt5x foreign key (event_id) references events
2025-01-26 21:32:22 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists events add constraint FKbd320pnltw8sobixakxi103t2 foreign key (created_by_id) references users
2025-01-26 21:32:22 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists exam_results add constraint FKtf85ht7yquiorwjx2xbdx3fxw foreign key (exam_id) references exams
2025-01-26 21:32:22 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists exam_results add constraint FK4refju7revqup8sjjq86jrrcy foreign key (published_by_id) references users
2025-01-26 21:32:22 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists exam_results add constraint FKbst7kt9swkr8u9luyhxql1f10 foreign key (top_scorer_id) references users
2025-01-26 21:32:22 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists exams add constraint FKkq9895f263nw6qxibikek0t40 foreign key (class_id) references classes
2025-01-26 21:32:22 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists exams add constraint FKpb6t4jh679dskd6axk3ogdknk foreign key (created_by_id) references users
2025-01-26 21:32:22 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists exams add constraint FKopre4n7j7fpxqbtbwpv8ywn1y foreign key (subject_id) references subjects
2025-01-26 21:32:22 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists invoice_items add constraint FK46ae0lhu1oqs7cv91fn6y9n7w foreign key (invoice_id) references invoices
2025-01-26 21:32:22 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists invoices add constraint FKd747hw7mxi4sy6w4u8k1iwtvs foreign key (parent_id) references users
2025-01-26 21:32:22 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists invoices add constraint FKakkfiaesng8bjgonpf07bbp4p foreign key (student_id) references users
2025-01-26 21:32:22 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists learning_resources add constraint FKlx0uf6d81kmnjmn26uq0fki60 foreign key (subject_id) references subjects
2025-01-26 21:32:22 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists learning_resources add constraint FKrt0tptfq6pvehjktgqtwqwpee foreign key (uploaded_by_id) references users
2025-01-26 21:32:22 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists level_subjects add constraint FKfvhces8my0u9t9vwt0kwhldoc foreign key (subject_id) references subjects
2025-01-26 21:32:22 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists level_subjects add constraint FKe80it3r4wkd8eq3dcep9dv9vk foreign key (level_id) references levels
2025-01-26 21:32:22 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists messages add constraint FKhdkwfnspwb3s60j27vpg0rpg6 foreign key (recipient_id) references users
2025-01-26 21:32:22 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists messages add constraint FK4ui4nnwntodh6wjvck53dbk9m foreign key (sender_id) references users
2025-01-26 21:32:22 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists parent_profiles add constraint FK1u140ttd2ovtg6wgwv0pdkeys foreign key (parent_id) references users
2025-01-26 21:32:22 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists parent_student_associations add constraint FKt6wqsxs1th69wqx1hrvpt96e9 foreign key (created_by_id) references users
2025-01-26 21:32:22 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists parent_student_associations add constraint FK4xby8ktlhdwt9u9c4jdm6476h foreign key (parent_id) references users
2025-01-26 21:32:22 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists parent_student_associations add constraint FKfv1udupbvoanl9l5geg2drcsv foreign key (student_id) references users
2025-01-26 21:32:22 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists parent_student_associations add constraint FKb81ykx64dsdl53nuxkfmh4p2p foreign key (validated_by_id) references users
2025-01-26 21:32:22 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists payment_reminders add constraint FKt55f9q09q92nlaujqa937gvr3 foreign key (invoice_id) references invoices
2025-01-26 21:32:22 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists payments add constraint FKrbqec6be74wab8iifh8g3i50i foreign key (invoice_id) references invoices
2025-01-26 21:32:22 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists role_permissions add constraint FKegdk29eiy7mdtefy5c7eirr6e foreign key (permission_id) references permissions
2025-01-26 21:32:22 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists role_permissions add constraint FKn5fotdgk8d1xvo8nav9uv3muc foreign key (role_id) references roles
2025-01-26 21:32:22 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists room_equipment add constraint FKiyhaivc7it7c8go6ursatnvte foreign key (room_id) references rooms
2025-01-26 21:32:22 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists school_subscriptions add constraint FK190w3a6y6f8elju0mmhfk2vat foreign key (plan_id) references subscription_plans
2025-01-26 21:32:22 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists school_subscriptions add constraint FKalttc6scmditcumrr5a2dqkmu foreign key (school_id) references schools
2025-01-26 21:32:22 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists student_exams add constraint FK4fquxbl5dsgopumluf9dkxaav foreign key (exam_id) references exams
2025-01-26 21:32:22 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists student_exams add constraint FK10arl9w2ql4b8s4bl6cp9s1w foreign key (graded_by_id) references users
2025-01-26 21:32:22 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists student_exams add constraint FKi37r268vxkhv7ihfw4w4ggt4o foreign key (student_id) references users
2025-01-26 21:32:22 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists student_grades add constraint FK60cso44bavrtnd2lyk7ne73st foreign key (graded_by_id) references users
2025-01-26 21:32:22 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists student_grades add constraint FK1e0w7034ps7cgc6boikuhvv3h foreign key (student_id) references users
2025-01-26 21:32:22 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists student_grades add constraint FK2prq6208b200k5vwbupe5p5wx foreign key (subject_id) references subjects
2025-01-26 21:32:22 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists student_homework add constraint FKpgm5x8gjs4uaa6ws1ho1bo5cw foreign key (assigned_by_id) references users
2025-01-26 21:32:22 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists student_homework add constraint FKsnccqdotvah5stwrxx9wvho8f foreign key (student_id) references users
2025-01-26 21:32:22 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists student_homework add constraint FKf6qq32ih6pqqh90lx1onjl8fw foreign key (subject_id) references subjects
2025-01-26 21:32:22 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists student_profiles add constraint FKajdg7dttti80dosart71wk35v foreign key (student_id) references users
2025-01-26 21:32:22 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists user_roles add constraint FKh8ciramu9cc9q3qcqiv4ue8a6 foreign key (role_id) references roles
2025-01-26 21:32:22 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists user_roles add constraint FKhfh9dx7w3ubf1co1vdev94g3f foreign key (user_id) references users
2025-01-26 21:32:22 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists users add constraint FKteip88j90fbo9odnc9gxpq6n1 foreign key (class_id) references classes
2025-01-26 21:32:22 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-26 21:32:23 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-01-26 21:32:23 [restartedMain] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'adminBillingController': Unsatisfied dependency expressed through field 'billingService': Error creating bean with name 'billingServiceImpl': Unsatisfied dependency expressed through field 'emailService': Error creating bean with name 'sendinBlueEmailServiceImpl' defined in file [C:\backup H\EclipseWorkspace\digitalSchool\target\classes\com\digital\school\service\impl\SendinBlueEmailServiceImpl.class]: Failed to instantiate [com.digital.school.service.impl.SendinBlueEmailServiceImpl]: Constructor threw exception
2025-01-26 21:32:23 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-26 21:32:23 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-01-26 21:32:23 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-01-26 21:32:23 [restartedMain] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-01-26 21:32:23 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-01-26 21:32:23 [restartedMain] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'adminBillingController': Unsatisfied dependency expressed through field 'billingService': Error creating bean with name 'billingServiceImpl': Unsatisfied dependency expressed through field 'emailService': Error creating bean with name 'sendinBlueEmailServiceImpl' defined in file [C:\backup H\EclipseWorkspace\digitalSchool\target\classes\com\digital\school\service\impl\SendinBlueEmailServiceImpl.class]: Failed to instantiate [com.digital.school.service.impl.SendinBlueEmailServiceImpl]: Constructor threw exception
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:787)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:767)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:145)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:508)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1439)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:975)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:971)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352)
	at com.digital.school.SchoolManagementApplication.main(SchoolManagementApplication.java:9)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:577)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'billingServiceImpl': Unsatisfied dependency expressed through field 'emailService': Error creating bean with name 'sendinBlueEmailServiceImpl' defined in file [C:\backup H\EclipseWorkspace\digitalSchool\target\classes\com\digital\school\service\impl\SendinBlueEmailServiceImpl.class]: Failed to instantiate [com.digital.school.service.impl.SendinBlueEmailServiceImpl]: Constructor threw exception
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:787)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:767)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:145)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:508)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1439)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:784)
	... 23 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sendinBlueEmailServiceImpl' defined in file [C:\backup H\EclipseWorkspace\digitalSchool\target\classes\com\digital\school\service\impl\SendinBlueEmailServiceImpl.class]: Failed to instantiate [com.digital.school.service.impl.SendinBlueEmailServiceImpl]: Constructor threw exception
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1337)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1222)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:784)
	... 37 common frames omitted
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.digital.school.service.impl.SendinBlueEmailServiceImpl]: Constructor threw exception
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:221)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:94)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1331)
	... 48 common frames omitted
Caused by: java.lang.NoSuchFieldError: Companion
	at okhttp3.internal.Util.<clinit>(Util.kt:70)
	at okhttp3.OkHttpClient.<clinit>(OkHttpClient.kt:1073)
	at sendinblue.ApiClient.<init>(ApiClient.java:80)
	at sendinblue.Configuration.<clinit>(Configuration.java:18)
	at com.digital.school.service.impl.SendinBlueEmailServiceImpl.<init>(SendinBlueEmailServiceImpl.java:30)
	at java.base/jdk.internal.reflect.DirectConstructorHandleAccessor.newInstance(DirectConstructorHandleAccessor.java:67)
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:483)
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:195)
	... 50 common frames omitted
2025-01-26 21:35:45 [restartedMain] INFO  c.d.s.SchoolManagementApplication - Starting SchoolManagementApplication using Java 18.0.1.1 with PID 20372 (C:\backup H\EclipseWorkspace\digitalSchool\target\classes started by rsabil in C:\backup H\EclipseWorkspace\digitalSchool)
2025-01-26 21:35:45 [restartedMain] DEBUG c.d.s.SchoolManagementApplication - Running with Spring Boot v3.3.2, Spring v6.1.11
2025-01-26 21:35:45 [restartedMain] INFO  c.d.s.SchoolManagementApplication - No active profile set, falling back to 1 default profile: "default"
2025-01-26 21:35:45 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-01-26 21:35:45 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-01-26 21:35:47 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-26 21:35:47 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 242 ms. Found 26 JPA repository interfaces.
2025-01-26 21:35:48 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 9090 (http)
2025-01-26 21:35:48 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-9090"]
2025-01-26 21:35:48 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-01-26 21:35:48 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.26]
2025-01-26 21:35:48 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-01-26 21:35:48 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2861 ms
2025-01-26 21:35:48 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-01-26 21:35:48 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:file:./src/main/resources/db/digischool user=
2025-01-26 21:35:48 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-01-26 21:35:48 [restartedMain] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:file:./src/main/resources/db/digischool'
2025-01-26 21:35:49 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-26 21:35:49 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.5.2.Final
2025-01-26 21:35:49 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-01-26 21:35:49 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-26 21:35:49 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-01-26 21:35:50 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-26 21:35:50 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists attendances cascade 
2025-01-26 21:35:50 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists class_subjects cascade 
2025-01-26 21:35:50 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists classes cascade 
2025-01-26 21:35:50 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists courses cascade 
2025-01-26 21:35:51 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists documents cascade 
2025-01-26 21:35:51 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists event_participants cascade 
2025-01-26 21:35:51 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists events cascade 
2025-01-26 21:35:51 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists exam_results cascade 
2025-01-26 21:35:51 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists exams cascade 
2025-01-26 21:35:51 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists invoice_items cascade 
2025-01-26 21:35:51 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists invoices cascade 
2025-01-26 21:35:51 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists learning_resources cascade 
2025-01-26 21:35:51 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists level_subjects cascade 
2025-01-26 21:35:51 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists levels cascade 
2025-01-26 21:35:51 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists messages cascade 
2025-01-26 21:35:51 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists parent_profiles cascade 
2025-01-26 21:35:51 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists parent_student_associations cascade 
2025-01-26 21:35:51 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists payment_reminders cascade 
2025-01-26 21:35:51 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists payments cascade 
2025-01-26 21:35:51 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists permissions cascade 
2025-01-26 21:35:51 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists role_permissions cascade 
2025-01-26 21:35:51 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists roles cascade 
2025-01-26 21:35:51 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists room_equipment cascade 
2025-01-26 21:35:51 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists rooms cascade 
2025-01-26 21:35:51 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists school_subscriptions cascade 
2025-01-26 21:35:51 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists schools cascade 
2025-01-26 21:35:51 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists student_exams cascade 
2025-01-26 21:35:51 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists student_grades cascade 
2025-01-26 21:35:51 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists student_homework cascade 
2025-01-26 21:35:51 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists student_profiles cascade 
2025-01-26 21:35:51 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists subjects cascade 
2025-01-26 21:35:51 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists subscription_plans cascade 
2025-01-26 21:35:51 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists user_roles cascade 
2025-01-26 21:35:51 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists users cascade 
2025-01-26 21:35:51 [restartedMain] DEBUG org.hibernate.SQL - create table attendances (course_id bigint not null, id bigint generated by default as identity, recorded_at timestamp(6), recorded_by_id bigint, student_id bigint not null, justification TEXT, status enum ('ABSENT','EXCUSED','LATE','PRESENT') not null, primary key (id))
2025-01-26 21:35:51 [restartedMain] DEBUG org.hibernate.SQL - create table class_subjects (class_id bigint not null, subject_id bigint not null, primary key (class_id, subject_id))
2025-01-26 21:35:51 [restartedMain] DEBUG org.hibernate.SQL - create table classes (max_students integer, id bigint generated by default as identity, level_id bigint not null, name varchar(255) not null, school_year varchar(255), primary key (id))
2025-01-26 21:35:51 [restartedMain] DEBUG org.hibernate.SQL - create table courses (class_id bigint not null, end_time timestamp(6), id bigint generated by default as identity, professor_id bigint not null, start_time timestamp(6), subject_id bigint not null, description TEXT, room varchar(255), primary key (id))
2025-01-26 21:35:51 [restartedMain] DEBUG org.hibernate.SQL - create table documents (is_validated boolean, file_size bigint, id bigint generated by default as identity, parent_id bigint, student_id bigint, uploaded_at timestamp(6), uploaded_by_id bigint, validated_at timestamp(6), validated_by_id bigint, category varchar(255) not null, description TEXT, file_path varchar(255) not null, mime_type varchar(255), name varchar(255) not null, type varchar(255) not null, primary key (id))
2025-01-26 21:35:51 [restartedMain] DEBUG org.hibernate.SQL - create table event_participants (event_id bigint not null, user_id bigint not null, primary key (event_id, user_id))
2025-01-26 21:35:51 [restartedMain] DEBUG org.hibernate.SQL - create table events (all_day boolean not null, created_by_id bigint, end_time timestamp(6) not null, id bigint generated by default as identity, start_time timestamp(6) not null, background_color varchar(255), description TEXT, location varchar(255), text_color varchar(255), title varchar(255) not null, type enum ('COURSE','EVENT','EXAM','MEETING') not null, primary key (id))
2025-01-26 21:35:51 [restartedMain] DEBUG org.hibernate.SQL - create table exam_results (class_average float(53), failed_students integer, highest_score float(53), lowest_score float(53), passed_students integer, total_students integer, exam_id bigint not null unique, id bigint generated by default as identity, published_at timestamp(6), published_by_id bigint, top_scorer_id bigint, primary key (id))
2025-01-26 21:35:51 [restartedMain] DEBUG org.hibernate.SQL - create table exams (duration integer not null, is_published boolean not null, max_score float(53) not null, class_id bigint not null, created_at timestamp(6), created_by_id bigint, exam_date timestamp(6) not null, id bigint generated by default as identity, subject_id bigint not null, description TEXT, name varchar(255) not null, status enum ('CANCELLED','COMPLETED','IN_PROGRESS','SCHEDULED') not null, primary key (id))
2025-01-26 21:35:51 [restartedMain] DEBUG org.hibernate.SQL - create table invoice_items (amount numeric(10,2), quantity integer, total numeric(10,2), id bigint generated by default as identity, invoice_id bigint, description varchar(255), type varchar(255), primary key (id))
2025-01-26 21:35:51 [restartedMain] DEBUG org.hibernate.SQL - create table invoices (installment_count integer, installment_enabled boolean not null, reminder_count integer, total_amount numeric(10,2), due_date timestamp(6), id bigint generated by default as identity, issue_date timestamp(6), last_reminder_sent timestamp(6), parent_id bigint, student_id bigint, invoice_number varchar(255) unique, notes varchar(255), pdf_path TEXT, status varchar(255), primary key (id))
2025-01-26 21:35:51 [restartedMain] DEBUG org.hibernate.SQL - create table learning_resources (id bigint generated by default as identity, subject_id bigint, uploaded_at timestamp(6), uploaded_by_id bigint, description varchar(255), title varchar(255), type varchar(255), url varchar(255), primary key (id))
2025-01-26 21:35:51 [restartedMain] DEBUG org.hibernate.SQL - create table level_subjects (level_id bigint not null, subject_id bigint not null, primary key (level_id, subject_id))
2025-01-26 21:35:51 [restartedMain] DEBUG org.hibernate.SQL - create table levels ("order" integer not null, id bigint generated by default as identity, code varchar(255) not null unique, cycle varchar(255) not null, name varchar(255) not null, level_name enum ('CE1','CE2','CINQUIEME','CM1','CM2','CP','PREMIERE','QUATRIEME','SECONDE','SIXIEME','TERMINALE','TROISIEME') not null, primary key (id))
2025-01-26 21:35:51 [restartedMain] DEBUG org.hibernate.SQL - create table messages (is_read boolean not null, id bigint generated by default as identity, read_at timestamp(6), recipient_id bigint not null, sender_id bigint not null, sent_at timestamp(6), content TEXT not null, subject varchar(255) not null, primary key (id))
2025-01-26 21:35:51 [restartedMain] DEBUG org.hibernate.SQL - create table parent_profiles (id bigint generated by default as identity, parent_id bigint not null unique, additional_info TEXT, marital_status varchar(255), preferred_contact_method varchar(255), preferred_contact_time varchar(255), profession varchar(255), work_address varchar(255), work_phone varchar(255), primary key (id))
2025-01-26 21:35:51 [restartedMain] DEBUG org.hibernate.SQL - create table parent_student_associations (emergency_contact boolean, has_custody boolean, is_primary_contact boolean, is_validated boolean, created_at timestamp(6), created_by_id bigint, id bigint generated by default as identity, parent_id bigint not null, student_id bigint not null, validated_at timestamp(6), validated_by_id bigint, relationship varchar(255) not null, primary key (id))
2025-01-26 21:35:51 [restartedMain] DEBUG org.hibernate.SQL - create table payment_reminders (id bigint generated by default as identity, invoice_id bigint, sent_at timestamp(6), content varchar(255), status varchar(255), type varchar(255), primary key (id))
2025-01-26 21:35:51 [restartedMain] DEBUG org.hibernate.SQL - create table payments (amount numeric(10,2), id bigint generated by default as identity, invoice_id bigint, payment_date timestamp(6), error_message varchar(255), payment_method varchar(255), receipt_path TEXT, status varchar(255), transaction_id varchar(255), primary key (id))
2025-01-26 21:35:51 [restartedMain] DEBUG org.hibernate.SQL - create table permissions (id bigint generated by default as identity, description varchar(255), name enum ('MANAGE_ATTENDANCE','MANAGE_CLASSES','MANAGE_COURSES','MANAGE_EVENTS','MANAGE_EXAMS','MANAGE_USERS','SUBMIT_HOMEWORK','VIEW_CALENDAR','VIEW_DASHBOARD','VIEW_RESULTS') not null unique, primary key (id))
2025-01-26 21:35:51 [restartedMain] DEBUG org.hibernate.SQL - create table role_permissions (permission_id bigint not null, role_id bigint not null, primary key (permission_id, role_id))
2025-01-26 21:35:51 [restartedMain] DEBUG org.hibernate.SQL - create table roles (id bigint generated by default as identity, name enum ('ROLE_ADMIN','ROLE_PARENT','ROLE_PROFESSOR','ROLE_STUDENT') not null unique, primary key (id))
2025-01-26 21:35:51 [restartedMain] DEBUG org.hibernate.SQL - create table room_equipment (room_id bigint not null, equipment varchar(255))
2025-01-26 21:35:51 [restartedMain] DEBUG org.hibernate.SQL - create table rooms (floor_number integer, is_accessible boolean, max_capacity integer, id bigint generated by default as identity, building_name varchar(255), description TEXT, maintenance_notes TEXT, name varchar(255) not null unique, status varchar(255) not null, primary key (id))
2025-01-26 21:35:51 [restartedMain] DEBUG org.hibernate.SQL - create table school_subscriptions (auto_renew boolean, created_at timestamp(6), end_date timestamp(6) not null, id bigint generated by default as identity, plan_id bigint, school_id bigint, start_date timestamp(6) not null, updated_at timestamp(6), status varchar(255), primary key (id))
2025-01-26 21:35:51 [restartedMain] DEBUG org.hibernate.SQL - create table schools (created_at timestamp(6), id bigint generated by default as identity, updated_at timestamp(6), address varchar(255), city varchar(255), code varchar(255) not null unique, country varchar(255), email varchar(255), logo_url varchar(255), name varchar(255) not null, phone varchar(255), status varchar(255), website varchar(255), primary key (id))
2025-01-26 21:35:51 [restartedMain] DEBUG org.hibernate.SQL - create table student_exams (is_present boolean not null, score float(53), exam_id bigint not null, graded_at timestamp(6), graded_by_id bigint, id bigint generated by default as identity, student_id bigint not null, submitted_at timestamp(6), remarks TEXT, primary key (id))
2025-01-26 21:35:51 [restartedMain] DEBUG org.hibernate.SQL - create table student_grades (class_average float(53), grade_value float(24), date timestamp(6), graded_by_id bigint, id bigint generated by default as identity, student_id bigint, subject_id bigint, comments varchar(255), title varchar(255), primary key (id))
2025-01-26 21:35:51 [restartedMain] DEBUG org.hibernate.SQL - create table student_homework (grade float(53), assigned_by_id bigint, due_date timestamp(6), id bigint generated by default as identity, student_id bigint, subject_id bigint, description varchar(255), feedback varchar(255), status varchar(255), submission_path varchar(255), title varchar(255), primary key (id))
2025-01-26 21:35:51 [restartedMain] DEBUG org.hibernate.SQL - create table student_profiles (birth_date date, has_allergies boolean, id bigint generated by default as identity, student_id bigint not null unique, allergies_details TEXT, birth_place varchar(255), blood_type varchar(255), emergency_contact varchar(255), emergency_phone varchar(255), gender varchar(255), medical_info TEXT, nationality varchar(255), photo_path varchar(255), special_needs TEXT, primary key (id))
2025-01-26 21:35:51 [restartedMain] DEBUG org.hibernate.SQL - create table subjects (coefficient float(53) not null, is_optional boolean, id bigint generated by default as identity, code varchar(255) not null unique, description TEXT, name varchar(255) not null unique, primary key (id))
2025-01-26 21:35:51 [restartedMain] DEBUG org.hibernate.SQL - create table subscription_plans (duration_months integer not null, is_active boolean, max_students integer, max_teachers integer, price numeric(38,2) not null, created_at timestamp(6), id bigint generated by default as identity, updated_at timestamp(6), code varchar(255) not null unique, description varchar(255), features VARCHAR(4000), name varchar(255) not null, primary key (id))
2025-01-26 21:35:51 [restartedMain] DEBUG org.hibernate.SQL - create table user_roles (role_id bigint not null, user_id bigint not null, primary key (role_id, user_id))
2025-01-26 21:35:51 [restartedMain] DEBUG org.hibernate.SQL - create table users (enabled boolean not null, class_id bigint, id bigint generated by default as identity, email varchar(255) unique, first_name varchar(255), last_name varchar(255), password varchar(255), username varchar(255) not null unique, primary key (id))
2025-01-26 21:35:51 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists attendances add constraint FKg8lphmp6k3q3l6gj7vl359tss foreign key (course_id) references courses
2025-01-26 21:35:51 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists attendances add constraint FKkwnledkii6f9l9dgpde0a9tv9 foreign key (recorded_by_id) references users
2025-01-26 21:35:51 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists attendances add constraint FK8rw9g2dvy0k41jwi5750bt1y5 foreign key (student_id) references users
2025-01-26 21:35:51 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists class_subjects add constraint FKck6avvuoer3mgm2mbjgs0gw6m foreign key (subject_id) references subjects
2025-01-26 21:35:51 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists class_subjects add constraint FKqj4bwb8mpht4mqjlx321qt7i0 foreign key (class_id) references classes
2025-01-26 21:35:51 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists classes add constraint FK50gy8ctobyp3hp4bbfmsfspra foreign key (level_id) references levels
2025-01-26 21:35:51 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists courses add constraint FKqjnhm94oa5lu7111u8ii2gna9 foreign key (class_id) references classes
2025-01-26 21:35:51 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists courses add constraint FKt423twvp6smhwx073dsqmwcpc foreign key (professor_id) references users
2025-01-26 21:35:51 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists courses add constraint FK5tckdihu5akp5nkxiacx1gfhi foreign key (subject_id) references subjects
2025-01-26 21:35:51 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists documents add constraint FKjk1sknm9o5hc52thd7lt0y8pw foreign key (parent_id) references users
2025-01-26 21:35:51 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists documents add constraint FKl8jfa6b5rwoypt1i3j7i362s1 foreign key (student_id) references users
2025-01-26 21:35:51 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists documents add constraint FKa8xyugvg1b1gjr07r5057pn5 foreign key (uploaded_by_id) references users
2025-01-26 21:35:51 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists documents add constraint FK80r7dshfnya5u81v195l36ny5 foreign key (validated_by_id) references users
2025-01-26 21:35:51 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists event_participants add constraint FKre6m0d4mgt4351tytlkac9jvf foreign key (user_id) references users
2025-01-26 21:35:51 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists event_participants add constraint FK2x391urx4up03f4jp2y9mdt5x foreign key (event_id) references events
2025-01-26 21:35:51 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists events add constraint FKbd320pnltw8sobixakxi103t2 foreign key (created_by_id) references users
2025-01-26 21:35:51 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists exam_results add constraint FKtf85ht7yquiorwjx2xbdx3fxw foreign key (exam_id) references exams
2025-01-26 21:35:51 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists exam_results add constraint FK4refju7revqup8sjjq86jrrcy foreign key (published_by_id) references users
2025-01-26 21:35:51 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists exam_results add constraint FKbst7kt9swkr8u9luyhxql1f10 foreign key (top_scorer_id) references users
2025-01-26 21:35:51 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists exams add constraint FKkq9895f263nw6qxibikek0t40 foreign key (class_id) references classes
2025-01-26 21:35:51 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists exams add constraint FKpb6t4jh679dskd6axk3ogdknk foreign key (created_by_id) references users
2025-01-26 21:35:51 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists exams add constraint FKopre4n7j7fpxqbtbwpv8ywn1y foreign key (subject_id) references subjects
2025-01-26 21:35:51 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists invoice_items add constraint FK46ae0lhu1oqs7cv91fn6y9n7w foreign key (invoice_id) references invoices
2025-01-26 21:35:51 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists invoices add constraint FKd747hw7mxi4sy6w4u8k1iwtvs foreign key (parent_id) references users
2025-01-26 21:35:51 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists invoices add constraint FKakkfiaesng8bjgonpf07bbp4p foreign key (student_id) references users
2025-01-26 21:35:51 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists learning_resources add constraint FKlx0uf6d81kmnjmn26uq0fki60 foreign key (subject_id) references subjects
2025-01-26 21:35:51 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists learning_resources add constraint FKrt0tptfq6pvehjktgqtwqwpee foreign key (uploaded_by_id) references users
2025-01-26 21:35:51 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists level_subjects add constraint FKfvhces8my0u9t9vwt0kwhldoc foreign key (subject_id) references subjects
2025-01-26 21:35:51 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists level_subjects add constraint FKe80it3r4wkd8eq3dcep9dv9vk foreign key (level_id) references levels
2025-01-26 21:35:51 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists messages add constraint FKhdkwfnspwb3s60j27vpg0rpg6 foreign key (recipient_id) references users
2025-01-26 21:35:51 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists messages add constraint FK4ui4nnwntodh6wjvck53dbk9m foreign key (sender_id) references users
2025-01-26 21:35:51 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists parent_profiles add constraint FK1u140ttd2ovtg6wgwv0pdkeys foreign key (parent_id) references users
2025-01-26 21:35:51 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists parent_student_associations add constraint FKt6wqsxs1th69wqx1hrvpt96e9 foreign key (created_by_id) references users
2025-01-26 21:35:51 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists parent_student_associations add constraint FK4xby8ktlhdwt9u9c4jdm6476h foreign key (parent_id) references users
2025-01-26 21:35:51 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists parent_student_associations add constraint FKfv1udupbvoanl9l5geg2drcsv foreign key (student_id) references users
2025-01-26 21:35:51 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists parent_student_associations add constraint FKb81ykx64dsdl53nuxkfmh4p2p foreign key (validated_by_id) references users
2025-01-26 21:35:51 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists payment_reminders add constraint FKt55f9q09q92nlaujqa937gvr3 foreign key (invoice_id) references invoices
2025-01-26 21:35:51 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists payments add constraint FKrbqec6be74wab8iifh8g3i50i foreign key (invoice_id) references invoices
2025-01-26 21:35:51 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists role_permissions add constraint FKegdk29eiy7mdtefy5c7eirr6e foreign key (permission_id) references permissions
2025-01-26 21:35:51 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists role_permissions add constraint FKn5fotdgk8d1xvo8nav9uv3muc foreign key (role_id) references roles
2025-01-26 21:35:51 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists room_equipment add constraint FKiyhaivc7it7c8go6ursatnvte foreign key (room_id) references rooms
2025-01-26 21:35:51 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists school_subscriptions add constraint FK190w3a6y6f8elju0mmhfk2vat foreign key (plan_id) references subscription_plans
2025-01-26 21:35:51 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists school_subscriptions add constraint FKalttc6scmditcumrr5a2dqkmu foreign key (school_id) references schools
2025-01-26 21:35:51 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists student_exams add constraint FK4fquxbl5dsgopumluf9dkxaav foreign key (exam_id) references exams
2025-01-26 21:35:51 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists student_exams add constraint FK10arl9w2ql4b8s4bl6cp9s1w foreign key (graded_by_id) references users
2025-01-26 21:35:51 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists student_exams add constraint FKi37r268vxkhv7ihfw4w4ggt4o foreign key (student_id) references users
2025-01-26 21:35:51 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists student_grades add constraint FK60cso44bavrtnd2lyk7ne73st foreign key (graded_by_id) references users
2025-01-26 21:35:51 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists student_grades add constraint FK1e0w7034ps7cgc6boikuhvv3h foreign key (student_id) references users
2025-01-26 21:35:51 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists student_grades add constraint FK2prq6208b200k5vwbupe5p5wx foreign key (subject_id) references subjects
2025-01-26 21:35:51 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists student_homework add constraint FKpgm5x8gjs4uaa6ws1ho1bo5cw foreign key (assigned_by_id) references users
2025-01-26 21:35:51 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists student_homework add constraint FKsnccqdotvah5stwrxx9wvho8f foreign key (student_id) references users
2025-01-26 21:35:51 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists student_homework add constraint FKf6qq32ih6pqqh90lx1onjl8fw foreign key (subject_id) references subjects
2025-01-26 21:35:51 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists student_profiles add constraint FKajdg7dttti80dosart71wk35v foreign key (student_id) references users
2025-01-26 21:35:51 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists user_roles add constraint FKh8ciramu9cc9q3qcqiv4ue8a6 foreign key (role_id) references roles
2025-01-26 21:35:51 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists user_roles add constraint FKhfh9dx7w3ubf1co1vdev94g3f foreign key (user_id) references users
2025-01-26 21:35:51 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists users add constraint FKteip88j90fbo9odnc9gxpq6n1 foreign key (class_id) references classes
2025-01-26 21:35:51 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-26 21:35:51 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-01-26 21:35:51 [restartedMain] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'adminBillingController': Unsatisfied dependency expressed through field 'billingService': Error creating bean with name 'billingServiceImpl': Unsatisfied dependency expressed through field 'emailService': Error creating bean with name 'sendinBlueEmailServiceImpl' defined in file [C:\backup H\EclipseWorkspace\digitalSchool\target\classes\com\digital\school\service\impl\SendinBlueEmailServiceImpl.class]: Failed to instantiate [com.digital.school.service.impl.SendinBlueEmailServiceImpl]: Constructor threw exception
2025-01-26 21:35:51 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-26 21:35:51 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-01-26 21:35:52 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-01-26 21:35:52 [restartedMain] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-01-26 21:35:52 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-01-26 21:35:52 [restartedMain] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'adminBillingController': Unsatisfied dependency expressed through field 'billingService': Error creating bean with name 'billingServiceImpl': Unsatisfied dependency expressed through field 'emailService': Error creating bean with name 'sendinBlueEmailServiceImpl' defined in file [C:\backup H\EclipseWorkspace\digitalSchool\target\classes\com\digital\school\service\impl\SendinBlueEmailServiceImpl.class]: Failed to instantiate [com.digital.school.service.impl.SendinBlueEmailServiceImpl]: Constructor threw exception
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:787)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:767)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:145)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:508)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1439)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:975)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:971)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352)
	at com.digital.school.SchoolManagementApplication.main(SchoolManagementApplication.java:9)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:577)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'billingServiceImpl': Unsatisfied dependency expressed through field 'emailService': Error creating bean with name 'sendinBlueEmailServiceImpl' defined in file [C:\backup H\EclipseWorkspace\digitalSchool\target\classes\com\digital\school\service\impl\SendinBlueEmailServiceImpl.class]: Failed to instantiate [com.digital.school.service.impl.SendinBlueEmailServiceImpl]: Constructor threw exception
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:787)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:767)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:145)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:508)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1439)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:784)
	... 23 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sendinBlueEmailServiceImpl' defined in file [C:\backup H\EclipseWorkspace\digitalSchool\target\classes\com\digital\school\service\impl\SendinBlueEmailServiceImpl.class]: Failed to instantiate [com.digital.school.service.impl.SendinBlueEmailServiceImpl]: Constructor threw exception
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1337)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1222)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:784)
	... 37 common frames omitted
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.digital.school.service.impl.SendinBlueEmailServiceImpl]: Constructor threw exception
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:221)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:94)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1331)
	... 48 common frames omitted
Caused by: java.lang.NoSuchFieldError: Companion
	at okhttp3.internal.Util.<clinit>(Util.kt:70)
	at okhttp3.OkHttpClient.<clinit>(OkHttpClient.kt:1073)
	at sendinblue.ApiClient.<init>(ApiClient.java:80)
	at sendinblue.Configuration.<clinit>(Configuration.java:18)
	at com.digital.school.service.impl.SendinBlueEmailServiceImpl.<init>(SendinBlueEmailServiceImpl.java:30)
	at java.base/jdk.internal.reflect.DirectConstructorHandleAccessor.newInstance(DirectConstructorHandleAccessor.java:67)
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:483)
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:195)
	... 50 common frames omitted
2025-01-26 21:42:22 [restartedMain] INFO  c.d.s.SchoolManagementApplication - Starting SchoolManagementApplication using Java 18.0.1.1 with PID 18524 (C:\backup H\EclipseWorkspace\digitalSchool\target\classes started by rsabil in C:\backup H\EclipseWorkspace\digitalSchool)
2025-01-26 21:42:22 [restartedMain] DEBUG c.d.s.SchoolManagementApplication - Running with Spring Boot v3.3.2, Spring v6.1.11
2025-01-26 21:42:22 [restartedMain] INFO  c.d.s.SchoolManagementApplication - No active profile set, falling back to 1 default profile: "default"
2025-01-26 21:42:22 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-01-26 21:42:22 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-01-26 21:42:23 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-26 21:42:23 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 181 ms. Found 26 JPA repository interfaces.
2025-01-26 21:42:24 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 9090 (http)
2025-01-26 21:42:24 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-9090"]
2025-01-26 21:42:24 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-01-26 21:42:24 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.26]
2025-01-26 21:42:24 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-01-26 21:42:24 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2396 ms
2025-01-26 21:42:24 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-01-26 21:42:24 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:file:./src/main/resources/db/digischool user=
2025-01-26 21:42:24 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-01-26 21:42:24 [restartedMain] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:file:./src/main/resources/db/digischool'
2025-01-26 21:42:25 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-26 21:42:25 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.5.2.Final
2025-01-26 21:42:25 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-01-26 21:42:25 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-26 21:42:25 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-01-26 21:42:26 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-26 21:42:26 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists attendances cascade 
2025-01-26 21:42:26 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists class_subjects cascade 
2025-01-26 21:42:26 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists classes cascade 
2025-01-26 21:42:26 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists courses cascade 
2025-01-26 21:42:26 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists documents cascade 
2025-01-26 21:42:26 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists event_participants cascade 
2025-01-26 21:42:26 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists events cascade 
2025-01-26 21:42:26 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists exam_results cascade 
2025-01-26 21:42:26 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists exams cascade 
2025-01-26 21:42:26 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists invoice_items cascade 
2025-01-26 21:42:26 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists invoices cascade 
2025-01-26 21:42:26 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists learning_resources cascade 
2025-01-26 21:42:26 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists level_subjects cascade 
2025-01-26 21:42:26 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists levels cascade 
2025-01-26 21:42:26 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists messages cascade 
2025-01-26 21:42:26 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists parent_profiles cascade 
2025-01-26 21:42:26 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists parent_student_associations cascade 
2025-01-26 21:42:26 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists payment_reminders cascade 
2025-01-26 21:42:26 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists payments cascade 
2025-01-26 21:42:26 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists permissions cascade 
2025-01-26 21:42:26 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists role_permissions cascade 
2025-01-26 21:42:26 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists roles cascade 
2025-01-26 21:42:27 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists room_equipment cascade 
2025-01-26 21:42:27 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists rooms cascade 
2025-01-26 21:42:27 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists school_subscriptions cascade 
2025-01-26 21:42:27 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists schools cascade 
2025-01-26 21:42:27 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists student_exams cascade 
2025-01-26 21:42:27 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists student_grades cascade 
2025-01-26 21:42:27 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists student_homework cascade 
2025-01-26 21:42:27 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists student_profiles cascade 
2025-01-26 21:42:27 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists subjects cascade 
2025-01-26 21:42:27 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists subscription_plans cascade 
2025-01-26 21:42:27 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists user_roles cascade 
2025-01-26 21:42:27 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists users cascade 
2025-01-26 21:42:27 [restartedMain] DEBUG org.hibernate.SQL - create table attendances (course_id bigint not null, id bigint generated by default as identity, recorded_at timestamp(6), recorded_by_id bigint, student_id bigint not null, justification TEXT, status enum ('ABSENT','EXCUSED','LATE','PRESENT') not null, primary key (id))
2025-01-26 21:42:27 [restartedMain] DEBUG org.hibernate.SQL - create table class_subjects (class_id bigint not null, subject_id bigint not null, primary key (class_id, subject_id))
2025-01-26 21:42:27 [restartedMain] DEBUG org.hibernate.SQL - create table classes (max_students integer, id bigint generated by default as identity, level_id bigint not null, name varchar(255) not null, school_year varchar(255), primary key (id))
2025-01-26 21:42:27 [restartedMain] DEBUG org.hibernate.SQL - create table courses (class_id bigint not null, end_time timestamp(6), id bigint generated by default as identity, professor_id bigint not null, start_time timestamp(6), subject_id bigint not null, description TEXT, room varchar(255), primary key (id))
2025-01-26 21:42:27 [restartedMain] DEBUG org.hibernate.SQL - create table documents (is_validated boolean, file_size bigint, id bigint generated by default as identity, parent_id bigint, student_id bigint, uploaded_at timestamp(6), uploaded_by_id bigint, validated_at timestamp(6), validated_by_id bigint, category varchar(255) not null, description TEXT, file_path varchar(255) not null, mime_type varchar(255), name varchar(255) not null, type varchar(255) not null, primary key (id))
2025-01-26 21:42:27 [restartedMain] DEBUG org.hibernate.SQL - create table event_participants (event_id bigint not null, user_id bigint not null, primary key (event_id, user_id))
2025-01-26 21:42:27 [restartedMain] DEBUG org.hibernate.SQL - create table events (all_day boolean not null, created_by_id bigint, end_time timestamp(6) not null, id bigint generated by default as identity, start_time timestamp(6) not null, background_color varchar(255), description TEXT, location varchar(255), text_color varchar(255), title varchar(255) not null, type enum ('COURSE','EVENT','EXAM','MEETING') not null, primary key (id))
2025-01-26 21:42:27 [restartedMain] DEBUG org.hibernate.SQL - create table exam_results (class_average float(53), failed_students integer, highest_score float(53), lowest_score float(53), passed_students integer, total_students integer, exam_id bigint not null unique, id bigint generated by default as identity, published_at timestamp(6), published_by_id bigint, top_scorer_id bigint, primary key (id))
2025-01-26 21:42:27 [restartedMain] DEBUG org.hibernate.SQL - create table exams (duration integer not null, is_published boolean not null, max_score float(53) not null, class_id bigint not null, created_at timestamp(6), created_by_id bigint, exam_date timestamp(6) not null, id bigint generated by default as identity, subject_id bigint not null, description TEXT, name varchar(255) not null, status enum ('CANCELLED','COMPLETED','IN_PROGRESS','SCHEDULED') not null, primary key (id))
2025-01-26 21:42:27 [restartedMain] DEBUG org.hibernate.SQL - create table invoice_items (amount numeric(10,2), quantity integer, total numeric(10,2), id bigint generated by default as identity, invoice_id bigint, description varchar(255), type varchar(255), primary key (id))
2025-01-26 21:42:27 [restartedMain] DEBUG org.hibernate.SQL - create table invoices (installment_count integer, installment_enabled boolean not null, reminder_count integer, total_amount numeric(10,2), due_date timestamp(6), id bigint generated by default as identity, issue_date timestamp(6), last_reminder_sent timestamp(6), parent_id bigint, student_id bigint, invoice_number varchar(255) unique, notes varchar(255), pdf_path TEXT, status varchar(255), primary key (id))
2025-01-26 21:42:27 [restartedMain] DEBUG org.hibernate.SQL - create table learning_resources (id bigint generated by default as identity, subject_id bigint, uploaded_at timestamp(6), uploaded_by_id bigint, description varchar(255), title varchar(255), type varchar(255), url varchar(255), primary key (id))
2025-01-26 21:42:27 [restartedMain] DEBUG org.hibernate.SQL - create table level_subjects (level_id bigint not null, subject_id bigint not null, primary key (level_id, subject_id))
2025-01-26 21:42:27 [restartedMain] DEBUG org.hibernate.SQL - create table levels ("order" integer not null, id bigint generated by default as identity, code varchar(255) not null unique, cycle varchar(255) not null, name varchar(255) not null, level_name enum ('CE1','CE2','CINQUIEME','CM1','CM2','CP','PREMIERE','QUATRIEME','SECONDE','SIXIEME','TERMINALE','TROISIEME') not null, primary key (id))
2025-01-26 21:42:27 [restartedMain] DEBUG org.hibernate.SQL - create table messages (is_read boolean not null, id bigint generated by default as identity, read_at timestamp(6), recipient_id bigint not null, sender_id bigint not null, sent_at timestamp(6), content TEXT not null, subject varchar(255) not null, primary key (id))
2025-01-26 21:42:27 [restartedMain] DEBUG org.hibernate.SQL - create table parent_profiles (id bigint generated by default as identity, parent_id bigint not null unique, additional_info TEXT, marital_status varchar(255), preferred_contact_method varchar(255), preferred_contact_time varchar(255), profession varchar(255), work_address varchar(255), work_phone varchar(255), primary key (id))
2025-01-26 21:42:27 [restartedMain] DEBUG org.hibernate.SQL - create table parent_student_associations (emergency_contact boolean, has_custody boolean, is_primary_contact boolean, is_validated boolean, created_at timestamp(6), created_by_id bigint, id bigint generated by default as identity, parent_id bigint not null, student_id bigint not null, validated_at timestamp(6), validated_by_id bigint, relationship varchar(255) not null, primary key (id))
2025-01-26 21:42:27 [restartedMain] DEBUG org.hibernate.SQL - create table payment_reminders (id bigint generated by default as identity, invoice_id bigint, sent_at timestamp(6), content varchar(255), status varchar(255), type varchar(255), primary key (id))
2025-01-26 21:42:27 [restartedMain] DEBUG org.hibernate.SQL - create table payments (amount numeric(10,2), id bigint generated by default as identity, invoice_id bigint, payment_date timestamp(6), error_message varchar(255), payment_method varchar(255), receipt_path TEXT, status varchar(255), transaction_id varchar(255), primary key (id))
2025-01-26 21:42:27 [restartedMain] DEBUG org.hibernate.SQL - create table permissions (id bigint generated by default as identity, description varchar(255), name enum ('MANAGE_ATTENDANCE','MANAGE_CLASSES','MANAGE_COURSES','MANAGE_EVENTS','MANAGE_EXAMS','MANAGE_USERS','SUBMIT_HOMEWORK','VIEW_CALENDAR','VIEW_DASHBOARD','VIEW_RESULTS') not null unique, primary key (id))
2025-01-26 21:42:27 [restartedMain] DEBUG org.hibernate.SQL - create table role_permissions (permission_id bigint not null, role_id bigint not null, primary key (permission_id, role_id))
2025-01-26 21:42:27 [restartedMain] DEBUG org.hibernate.SQL - create table roles (id bigint generated by default as identity, name enum ('ROLE_ADMIN','ROLE_PARENT','ROLE_PROFESSOR','ROLE_STUDENT') not null unique, primary key (id))
2025-01-26 21:42:27 [restartedMain] DEBUG org.hibernate.SQL - create table room_equipment (room_id bigint not null, equipment varchar(255))
2025-01-26 21:42:27 [restartedMain] DEBUG org.hibernate.SQL - create table rooms (floor_number integer, is_accessible boolean, max_capacity integer, id bigint generated by default as identity, building_name varchar(255), description TEXT, maintenance_notes TEXT, name varchar(255) not null unique, status varchar(255) not null, primary key (id))
2025-01-26 21:42:27 [restartedMain] DEBUG org.hibernate.SQL - create table school_subscriptions (auto_renew boolean, created_at timestamp(6), end_date timestamp(6) not null, id bigint generated by default as identity, plan_id bigint, school_id bigint, start_date timestamp(6) not null, updated_at timestamp(6), status varchar(255), primary key (id))
2025-01-26 21:42:27 [restartedMain] DEBUG org.hibernate.SQL - create table schools (created_at timestamp(6), id bigint generated by default as identity, updated_at timestamp(6), address varchar(255), city varchar(255), code varchar(255) not null unique, country varchar(255), email varchar(255), logo_url varchar(255), name varchar(255) not null, phone varchar(255), status varchar(255), website varchar(255), primary key (id))
2025-01-26 21:42:27 [restartedMain] DEBUG org.hibernate.SQL - create table student_exams (is_present boolean not null, score float(53), exam_id bigint not null, graded_at timestamp(6), graded_by_id bigint, id bigint generated by default as identity, student_id bigint not null, submitted_at timestamp(6), remarks TEXT, primary key (id))
2025-01-26 21:42:27 [restartedMain] DEBUG org.hibernate.SQL - create table student_grades (class_average float(53), grade_value float(24), date timestamp(6), graded_by_id bigint, id bigint generated by default as identity, student_id bigint, subject_id bigint, comments varchar(255), title varchar(255), primary key (id))
2025-01-26 21:42:27 [restartedMain] DEBUG org.hibernate.SQL - create table student_homework (grade float(53), assigned_by_id bigint, due_date timestamp(6), id bigint generated by default as identity, student_id bigint, subject_id bigint, description varchar(255), feedback varchar(255), status varchar(255), submission_path varchar(255), title varchar(255), primary key (id))
2025-01-26 21:42:27 [restartedMain] DEBUG org.hibernate.SQL - create table student_profiles (birth_date date, has_allergies boolean, id bigint generated by default as identity, student_id bigint not null unique, allergies_details TEXT, birth_place varchar(255), blood_type varchar(255), emergency_contact varchar(255), emergency_phone varchar(255), gender varchar(255), medical_info TEXT, nationality varchar(255), photo_path varchar(255), special_needs TEXT, primary key (id))
2025-01-26 21:42:27 [restartedMain] DEBUG org.hibernate.SQL - create table subjects (coefficient float(53) not null, is_optional boolean, id bigint generated by default as identity, code varchar(255) not null unique, description TEXT, name varchar(255) not null unique, primary key (id))
2025-01-26 21:42:27 [restartedMain] DEBUG org.hibernate.SQL - create table subscription_plans (duration_months integer not null, is_active boolean, max_students integer, max_teachers integer, price numeric(38,2) not null, created_at timestamp(6), id bigint generated by default as identity, updated_at timestamp(6), code varchar(255) not null unique, description varchar(255), features VARCHAR(4000), name varchar(255) not null, primary key (id))
2025-01-26 21:42:27 [restartedMain] DEBUG org.hibernate.SQL - create table user_roles (role_id bigint not null, user_id bigint not null, primary key (role_id, user_id))
2025-01-26 21:42:27 [restartedMain] DEBUG org.hibernate.SQL - create table users (enabled boolean not null, class_id bigint, id bigint generated by default as identity, email varchar(255) unique, first_name varchar(255), last_name varchar(255), password varchar(255), username varchar(255) not null unique, primary key (id))
2025-01-26 21:42:27 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists attendances add constraint FKg8lphmp6k3q3l6gj7vl359tss foreign key (course_id) references courses
2025-01-26 21:42:27 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists attendances add constraint FKkwnledkii6f9l9dgpde0a9tv9 foreign key (recorded_by_id) references users
2025-01-26 21:42:27 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists attendances add constraint FK8rw9g2dvy0k41jwi5750bt1y5 foreign key (student_id) references users
2025-01-26 21:42:27 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists class_subjects add constraint FKck6avvuoer3mgm2mbjgs0gw6m foreign key (subject_id) references subjects
2025-01-26 21:42:27 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists class_subjects add constraint FKqj4bwb8mpht4mqjlx321qt7i0 foreign key (class_id) references classes
2025-01-26 21:42:27 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists classes add constraint FK50gy8ctobyp3hp4bbfmsfspra foreign key (level_id) references levels
2025-01-26 21:42:27 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists courses add constraint FKqjnhm94oa5lu7111u8ii2gna9 foreign key (class_id) references classes
2025-01-26 21:42:27 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists courses add constraint FKt423twvp6smhwx073dsqmwcpc foreign key (professor_id) references users
2025-01-26 21:42:27 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists courses add constraint FK5tckdihu5akp5nkxiacx1gfhi foreign key (subject_id) references subjects
2025-01-26 21:42:27 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists documents add constraint FKjk1sknm9o5hc52thd7lt0y8pw foreign key (parent_id) references users
2025-01-26 21:42:27 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists documents add constraint FKl8jfa6b5rwoypt1i3j7i362s1 foreign key (student_id) references users
2025-01-26 21:42:27 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists documents add constraint FKa8xyugvg1b1gjr07r5057pn5 foreign key (uploaded_by_id) references users
2025-01-26 21:42:27 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists documents add constraint FK80r7dshfnya5u81v195l36ny5 foreign key (validated_by_id) references users
2025-01-26 21:42:27 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists event_participants add constraint FKre6m0d4mgt4351tytlkac9jvf foreign key (user_id) references users
2025-01-26 21:42:27 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists event_participants add constraint FK2x391urx4up03f4jp2y9mdt5x foreign key (event_id) references events
2025-01-26 21:42:27 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists events add constraint FKbd320pnltw8sobixakxi103t2 foreign key (created_by_id) references users
2025-01-26 21:42:27 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists exam_results add constraint FKtf85ht7yquiorwjx2xbdx3fxw foreign key (exam_id) references exams
2025-01-26 21:42:27 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists exam_results add constraint FK4refju7revqup8sjjq86jrrcy foreign key (published_by_id) references users
2025-01-26 21:42:27 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists exam_results add constraint FKbst7kt9swkr8u9luyhxql1f10 foreign key (top_scorer_id) references users
2025-01-26 21:42:27 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists exams add constraint FKkq9895f263nw6qxibikek0t40 foreign key (class_id) references classes
2025-01-26 21:42:27 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists exams add constraint FKpb6t4jh679dskd6axk3ogdknk foreign key (created_by_id) references users
2025-01-26 21:42:27 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists exams add constraint FKopre4n7j7fpxqbtbwpv8ywn1y foreign key (subject_id) references subjects
2025-01-26 21:42:27 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists invoice_items add constraint FK46ae0lhu1oqs7cv91fn6y9n7w foreign key (invoice_id) references invoices
2025-01-26 21:42:27 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists invoices add constraint FKd747hw7mxi4sy6w4u8k1iwtvs foreign key (parent_id) references users
2025-01-26 21:42:27 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists invoices add constraint FKakkfiaesng8bjgonpf07bbp4p foreign key (student_id) references users
2025-01-26 21:42:27 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists learning_resources add constraint FKlx0uf6d81kmnjmn26uq0fki60 foreign key (subject_id) references subjects
2025-01-26 21:42:27 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists learning_resources add constraint FKrt0tptfq6pvehjktgqtwqwpee foreign key (uploaded_by_id) references users
2025-01-26 21:42:27 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists level_subjects add constraint FKfvhces8my0u9t9vwt0kwhldoc foreign key (subject_id) references subjects
2025-01-26 21:42:27 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists level_subjects add constraint FKe80it3r4wkd8eq3dcep9dv9vk foreign key (level_id) references levels
2025-01-26 21:42:27 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists messages add constraint FKhdkwfnspwb3s60j27vpg0rpg6 foreign key (recipient_id) references users
2025-01-26 21:42:27 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists messages add constraint FK4ui4nnwntodh6wjvck53dbk9m foreign key (sender_id) references users
2025-01-26 21:42:27 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists parent_profiles add constraint FK1u140ttd2ovtg6wgwv0pdkeys foreign key (parent_id) references users
2025-01-26 21:42:27 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists parent_student_associations add constraint FKt6wqsxs1th69wqx1hrvpt96e9 foreign key (created_by_id) references users
2025-01-26 21:42:27 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists parent_student_associations add constraint FK4xby8ktlhdwt9u9c4jdm6476h foreign key (parent_id) references users
2025-01-26 21:42:27 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists parent_student_associations add constraint FKfv1udupbvoanl9l5geg2drcsv foreign key (student_id) references users
2025-01-26 21:42:27 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists parent_student_associations add constraint FKb81ykx64dsdl53nuxkfmh4p2p foreign key (validated_by_id) references users
2025-01-26 21:42:27 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists payment_reminders add constraint FKt55f9q09q92nlaujqa937gvr3 foreign key (invoice_id) references invoices
2025-01-26 21:42:27 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists payments add constraint FKrbqec6be74wab8iifh8g3i50i foreign key (invoice_id) references invoices
2025-01-26 21:42:27 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists role_permissions add constraint FKegdk29eiy7mdtefy5c7eirr6e foreign key (permission_id) references permissions
2025-01-26 21:42:27 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists role_permissions add constraint FKn5fotdgk8d1xvo8nav9uv3muc foreign key (role_id) references roles
2025-01-26 21:42:27 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists room_equipment add constraint FKiyhaivc7it7c8go6ursatnvte foreign key (room_id) references rooms
2025-01-26 21:42:27 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists school_subscriptions add constraint FK190w3a6y6f8elju0mmhfk2vat foreign key (plan_id) references subscription_plans
2025-01-26 21:42:27 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists school_subscriptions add constraint FKalttc6scmditcumrr5a2dqkmu foreign key (school_id) references schools
2025-01-26 21:42:27 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists student_exams add constraint FK4fquxbl5dsgopumluf9dkxaav foreign key (exam_id) references exams
2025-01-26 21:42:27 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists student_exams add constraint FK10arl9w2ql4b8s4bl6cp9s1w foreign key (graded_by_id) references users
2025-01-26 21:42:27 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists student_exams add constraint FKi37r268vxkhv7ihfw4w4ggt4o foreign key (student_id) references users
2025-01-26 21:42:27 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists student_grades add constraint FK60cso44bavrtnd2lyk7ne73st foreign key (graded_by_id) references users
2025-01-26 21:42:27 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists student_grades add constraint FK1e0w7034ps7cgc6boikuhvv3h foreign key (student_id) references users
2025-01-26 21:42:27 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists student_grades add constraint FK2prq6208b200k5vwbupe5p5wx foreign key (subject_id) references subjects
2025-01-26 21:42:27 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists student_homework add constraint FKpgm5x8gjs4uaa6ws1ho1bo5cw foreign key (assigned_by_id) references users
2025-01-26 21:42:27 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists student_homework add constraint FKsnccqdotvah5stwrxx9wvho8f foreign key (student_id) references users
2025-01-26 21:42:27 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists student_homework add constraint FKf6qq32ih6pqqh90lx1onjl8fw foreign key (subject_id) references subjects
2025-01-26 21:42:27 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists student_profiles add constraint FKajdg7dttti80dosart71wk35v foreign key (student_id) references users
2025-01-26 21:42:27 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists user_roles add constraint FKh8ciramu9cc9q3qcqiv4ue8a6 foreign key (role_id) references roles
2025-01-26 21:42:27 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists user_roles add constraint FKhfh9dx7w3ubf1co1vdev94g3f foreign key (user_id) references users
2025-01-26 21:42:27 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists users add constraint FKteip88j90fbo9odnc9gxpq6n1 foreign key (class_id) references classes
2025-01-26 21:42:27 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-26 21:42:27 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-01-26 21:42:28 [restartedMain] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'adminBillingController': Unsatisfied dependency expressed through field 'billingService': Error creating bean with name 'billingServiceImpl': Unsatisfied dependency expressed through field 'emailService': Error creating bean with name 'sendinBlueEmailServiceImpl' defined in file [C:\backup H\EclipseWorkspace\digitalSchool\target\classes\com\digital\school\service\impl\SendinBlueEmailServiceImpl.class]: Failed to instantiate [com.digital.school.service.impl.SendinBlueEmailServiceImpl]: Constructor threw exception
2025-01-26 21:42:28 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-26 21:42:28 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-01-26 21:42:28 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-01-26 21:42:28 [restartedMain] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-01-26 21:42:28 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-01-26 21:42:28 [restartedMain] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'adminBillingController': Unsatisfied dependency expressed through field 'billingService': Error creating bean with name 'billingServiceImpl': Unsatisfied dependency expressed through field 'emailService': Error creating bean with name 'sendinBlueEmailServiceImpl' defined in file [C:\backup H\EclipseWorkspace\digitalSchool\target\classes\com\digital\school\service\impl\SendinBlueEmailServiceImpl.class]: Failed to instantiate [com.digital.school.service.impl.SendinBlueEmailServiceImpl]: Constructor threw exception
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:787)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:767)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:145)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:508)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1439)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:975)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:971)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352)
	at com.digital.school.SchoolManagementApplication.main(SchoolManagementApplication.java:9)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:577)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'billingServiceImpl': Unsatisfied dependency expressed through field 'emailService': Error creating bean with name 'sendinBlueEmailServiceImpl' defined in file [C:\backup H\EclipseWorkspace\digitalSchool\target\classes\com\digital\school\service\impl\SendinBlueEmailServiceImpl.class]: Failed to instantiate [com.digital.school.service.impl.SendinBlueEmailServiceImpl]: Constructor threw exception
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:787)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:767)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:145)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:508)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1439)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:784)
	... 23 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sendinBlueEmailServiceImpl' defined in file [C:\backup H\EclipseWorkspace\digitalSchool\target\classes\com\digital\school\service\impl\SendinBlueEmailServiceImpl.class]: Failed to instantiate [com.digital.school.service.impl.SendinBlueEmailServiceImpl]: Constructor threw exception
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1337)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1222)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:784)
	... 37 common frames omitted
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.digital.school.service.impl.SendinBlueEmailServiceImpl]: Constructor threw exception
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:221)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:94)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1331)
	... 48 common frames omitted
Caused by: java.lang.NoSuchFieldError: Companion
	at okhttp3.internal.Util.<clinit>(Util.kt:70)
	at okhttp3.OkHttpClient.<clinit>(OkHttpClient.kt:1073)
	at sendinblue.ApiClient.<init>(ApiClient.java:80)
	at sendinblue.Configuration.<clinit>(Configuration.java:18)
	at com.digital.school.service.impl.SendinBlueEmailServiceImpl.<init>(SendinBlueEmailServiceImpl.java:30)
	at java.base/jdk.internal.reflect.DirectConstructorHandleAccessor.newInstance(DirectConstructorHandleAccessor.java:67)
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:483)
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:195)
	... 50 common frames omitted
2025-01-26 21:43:57 [restartedMain] INFO  c.d.s.SchoolManagementApplication - Starting SchoolManagementApplication using Java 18.0.1.1 with PID 3132 (C:\backup H\EclipseWorkspace\digitalSchool\target\classes started by rsabil in C:\backup H\EclipseWorkspace\digitalSchool)
2025-01-26 21:43:57 [restartedMain] DEBUG c.d.s.SchoolManagementApplication - Running with Spring Boot v3.3.2, Spring v6.1.11
2025-01-26 21:43:57 [restartedMain] INFO  c.d.s.SchoolManagementApplication - No active profile set, falling back to 1 default profile: "default"
2025-01-26 21:43:57 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-01-26 21:43:57 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-01-26 21:43:58 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-26 21:43:58 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 185 ms. Found 26 JPA repository interfaces.
2025-01-26 21:43:59 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 9090 (http)
2025-01-26 21:43:59 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-9090"]
2025-01-26 21:43:59 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-01-26 21:43:59 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.26]
2025-01-26 21:43:59 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-01-26 21:43:59 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2346 ms
2025-01-26 21:43:59 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-01-26 21:43:59 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:file:./src/main/resources/db/digischool user=
2025-01-26 21:43:59 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-01-26 21:43:59 [restartedMain] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:file:./src/main/resources/db/digischool'
2025-01-26 21:44:00 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-26 21:44:00 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.5.2.Final
2025-01-26 21:44:00 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-01-26 21:44:00 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-26 21:44:00 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-01-26 21:44:01 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-26 21:44:01 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists attendances cascade 
2025-01-26 21:44:01 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists class_subjects cascade 
2025-01-26 21:44:01 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists classes cascade 
2025-01-26 21:44:01 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists courses cascade 
2025-01-26 21:44:01 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists documents cascade 
2025-01-26 21:44:01 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists event_participants cascade 
2025-01-26 21:44:01 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists events cascade 
2025-01-26 21:44:01 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists exam_results cascade 
2025-01-26 21:44:01 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists exams cascade 
2025-01-26 21:44:01 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists invoice_items cascade 
2025-01-26 21:44:01 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists invoices cascade 
2025-01-26 21:44:01 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists learning_resources cascade 
2025-01-26 21:44:01 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists level_subjects cascade 
2025-01-26 21:44:01 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists levels cascade 
2025-01-26 21:44:01 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists messages cascade 
2025-01-26 21:44:01 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists parent_profiles cascade 
2025-01-26 21:44:01 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists parent_student_associations cascade 
2025-01-26 21:44:01 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists payment_reminders cascade 
2025-01-26 21:44:01 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists payments cascade 
2025-01-26 21:44:01 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists permissions cascade 
2025-01-26 21:44:01 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists role_permissions cascade 
2025-01-26 21:44:01 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists roles cascade 
2025-01-26 21:44:01 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists room_equipment cascade 
2025-01-26 21:44:01 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists rooms cascade 
2025-01-26 21:44:01 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists school_subscriptions cascade 
2025-01-26 21:44:01 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists schools cascade 
2025-01-26 21:44:01 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists student_exams cascade 
2025-01-26 21:44:01 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists student_grades cascade 
2025-01-26 21:44:01 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists student_homework cascade 
2025-01-26 21:44:01 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists student_profiles cascade 
2025-01-26 21:44:01 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists subjects cascade 
2025-01-26 21:44:01 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists subscription_plans cascade 
2025-01-26 21:44:01 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists user_roles cascade 
2025-01-26 21:44:01 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists users cascade 
2025-01-26 21:44:01 [restartedMain] DEBUG org.hibernate.SQL - create table attendances (course_id bigint not null, id bigint generated by default as identity, recorded_at timestamp(6), recorded_by_id bigint, student_id bigint not null, justification TEXT, status enum ('ABSENT','EXCUSED','LATE','PRESENT') not null, primary key (id))
2025-01-26 21:44:01 [restartedMain] DEBUG org.hibernate.SQL - create table class_subjects (class_id bigint not null, subject_id bigint not null, primary key (class_id, subject_id))
2025-01-26 21:44:01 [restartedMain] DEBUG org.hibernate.SQL - create table classes (max_students integer, id bigint generated by default as identity, level_id bigint not null, name varchar(255) not null, school_year varchar(255), primary key (id))
2025-01-26 21:44:01 [restartedMain] DEBUG org.hibernate.SQL - create table courses (class_id bigint not null, end_time timestamp(6), id bigint generated by default as identity, professor_id bigint not null, start_time timestamp(6), subject_id bigint not null, description TEXT, room varchar(255), primary key (id))
2025-01-26 21:44:01 [restartedMain] DEBUG org.hibernate.SQL - create table documents (is_validated boolean, file_size bigint, id bigint generated by default as identity, parent_id bigint, student_id bigint, uploaded_at timestamp(6), uploaded_by_id bigint, validated_at timestamp(6), validated_by_id bigint, category varchar(255) not null, description TEXT, file_path varchar(255) not null, mime_type varchar(255), name varchar(255) not null, type varchar(255) not null, primary key (id))
2025-01-26 21:44:01 [restartedMain] DEBUG org.hibernate.SQL - create table event_participants (event_id bigint not null, user_id bigint not null, primary key (event_id, user_id))
2025-01-26 21:44:01 [restartedMain] DEBUG org.hibernate.SQL - create table events (all_day boolean not null, created_by_id bigint, end_time timestamp(6) not null, id bigint generated by default as identity, start_time timestamp(6) not null, background_color varchar(255), description TEXT, location varchar(255), text_color varchar(255), title varchar(255) not null, type enum ('COURSE','EVENT','EXAM','MEETING') not null, primary key (id))
2025-01-26 21:44:01 [restartedMain] DEBUG org.hibernate.SQL - create table exam_results (class_average float(53), failed_students integer, highest_score float(53), lowest_score float(53), passed_students integer, total_students integer, exam_id bigint not null unique, id bigint generated by default as identity, published_at timestamp(6), published_by_id bigint, top_scorer_id bigint, primary key (id))
2025-01-26 21:44:01 [restartedMain] DEBUG org.hibernate.SQL - create table exams (duration integer not null, is_published boolean not null, max_score float(53) not null, class_id bigint not null, created_at timestamp(6), created_by_id bigint, exam_date timestamp(6) not null, id bigint generated by default as identity, subject_id bigint not null, description TEXT, name varchar(255) not null, status enum ('CANCELLED','COMPLETED','IN_PROGRESS','SCHEDULED') not null, primary key (id))
2025-01-26 21:44:01 [restartedMain] DEBUG org.hibernate.SQL - create table invoice_items (amount numeric(10,2), quantity integer, total numeric(10,2), id bigint generated by default as identity, invoice_id bigint, description varchar(255), type varchar(255), primary key (id))
2025-01-26 21:44:01 [restartedMain] DEBUG org.hibernate.SQL - create table invoices (installment_count integer, installment_enabled boolean not null, reminder_count integer, total_amount numeric(10,2), due_date timestamp(6), id bigint generated by default as identity, issue_date timestamp(6), last_reminder_sent timestamp(6), parent_id bigint, student_id bigint, invoice_number varchar(255) unique, notes varchar(255), pdf_path TEXT, status varchar(255), primary key (id))
2025-01-26 21:44:01 [restartedMain] DEBUG org.hibernate.SQL - create table learning_resources (id bigint generated by default as identity, subject_id bigint, uploaded_at timestamp(6), uploaded_by_id bigint, description varchar(255), title varchar(255), type varchar(255), url varchar(255), primary key (id))
2025-01-26 21:44:01 [restartedMain] DEBUG org.hibernate.SQL - create table level_subjects (level_id bigint not null, subject_id bigint not null, primary key (level_id, subject_id))
2025-01-26 21:44:01 [restartedMain] DEBUG org.hibernate.SQL - create table levels ("order" integer not null, id bigint generated by default as identity, code varchar(255) not null unique, cycle varchar(255) not null, name varchar(255) not null, level_name enum ('CE1','CE2','CINQUIEME','CM1','CM2','CP','PREMIERE','QUATRIEME','SECONDE','SIXIEME','TERMINALE','TROISIEME') not null, primary key (id))
2025-01-26 21:44:01 [restartedMain] DEBUG org.hibernate.SQL - create table messages (is_read boolean not null, id bigint generated by default as identity, read_at timestamp(6), recipient_id bigint not null, sender_id bigint not null, sent_at timestamp(6), content TEXT not null, subject varchar(255) not null, primary key (id))
2025-01-26 21:44:01 [restartedMain] DEBUG org.hibernate.SQL - create table parent_profiles (id bigint generated by default as identity, parent_id bigint not null unique, additional_info TEXT, marital_status varchar(255), preferred_contact_method varchar(255), preferred_contact_time varchar(255), profession varchar(255), work_address varchar(255), work_phone varchar(255), primary key (id))
2025-01-26 21:44:01 [restartedMain] DEBUG org.hibernate.SQL - create table parent_student_associations (emergency_contact boolean, has_custody boolean, is_primary_contact boolean, is_validated boolean, created_at timestamp(6), created_by_id bigint, id bigint generated by default as identity, parent_id bigint not null, student_id bigint not null, validated_at timestamp(6), validated_by_id bigint, relationship varchar(255) not null, primary key (id))
2025-01-26 21:44:01 [restartedMain] DEBUG org.hibernate.SQL - create table payment_reminders (id bigint generated by default as identity, invoice_id bigint, sent_at timestamp(6), content varchar(255), status varchar(255), type varchar(255), primary key (id))
2025-01-26 21:44:01 [restartedMain] DEBUG org.hibernate.SQL - create table payments (amount numeric(10,2), id bigint generated by default as identity, invoice_id bigint, payment_date timestamp(6), error_message varchar(255), payment_method varchar(255), receipt_path TEXT, status varchar(255), transaction_id varchar(255), primary key (id))
2025-01-26 21:44:01 [restartedMain] DEBUG org.hibernate.SQL - create table permissions (id bigint generated by default as identity, description varchar(255), name enum ('MANAGE_ATTENDANCE','MANAGE_CLASSES','MANAGE_COURSES','MANAGE_EVENTS','MANAGE_EXAMS','MANAGE_USERS','SUBMIT_HOMEWORK','VIEW_CALENDAR','VIEW_DASHBOARD','VIEW_RESULTS') not null unique, primary key (id))
2025-01-26 21:44:01 [restartedMain] DEBUG org.hibernate.SQL - create table role_permissions (permission_id bigint not null, role_id bigint not null, primary key (permission_id, role_id))
2025-01-26 21:44:01 [restartedMain] DEBUG org.hibernate.SQL - create table roles (id bigint generated by default as identity, name enum ('ROLE_ADMIN','ROLE_PARENT','ROLE_PROFESSOR','ROLE_STUDENT') not null unique, primary key (id))
2025-01-26 21:44:01 [restartedMain] DEBUG org.hibernate.SQL - create table room_equipment (room_id bigint not null, equipment varchar(255))
2025-01-26 21:44:01 [restartedMain] DEBUG org.hibernate.SQL - create table rooms (floor_number integer, is_accessible boolean, max_capacity integer, id bigint generated by default as identity, building_name varchar(255), description TEXT, maintenance_notes TEXT, name varchar(255) not null unique, status varchar(255) not null, primary key (id))
2025-01-26 21:44:01 [restartedMain] DEBUG org.hibernate.SQL - create table school_subscriptions (auto_renew boolean, created_at timestamp(6), end_date timestamp(6) not null, id bigint generated by default as identity, plan_id bigint, school_id bigint, start_date timestamp(6) not null, updated_at timestamp(6), status varchar(255), primary key (id))
2025-01-26 21:44:01 [restartedMain] DEBUG org.hibernate.SQL - create table schools (created_at timestamp(6), id bigint generated by default as identity, updated_at timestamp(6), address varchar(255), city varchar(255), code varchar(255) not null unique, country varchar(255), email varchar(255), logo_url varchar(255), name varchar(255) not null, phone varchar(255), status varchar(255), website varchar(255), primary key (id))
2025-01-26 21:44:01 [restartedMain] DEBUG org.hibernate.SQL - create table student_exams (is_present boolean not null, score float(53), exam_id bigint not null, graded_at timestamp(6), graded_by_id bigint, id bigint generated by default as identity, student_id bigint not null, submitted_at timestamp(6), remarks TEXT, primary key (id))
2025-01-26 21:44:01 [restartedMain] DEBUG org.hibernate.SQL - create table student_grades (class_average float(53), grade_value float(24), date timestamp(6), graded_by_id bigint, id bigint generated by default as identity, student_id bigint, subject_id bigint, comments varchar(255), title varchar(255), primary key (id))
2025-01-26 21:44:01 [restartedMain] DEBUG org.hibernate.SQL - create table student_homework (grade float(53), assigned_by_id bigint, due_date timestamp(6), id bigint generated by default as identity, student_id bigint, subject_id bigint, description varchar(255), feedback varchar(255), status varchar(255), submission_path varchar(255), title varchar(255), primary key (id))
2025-01-26 21:44:01 [restartedMain] DEBUG org.hibernate.SQL - create table student_profiles (birth_date date, has_allergies boolean, id bigint generated by default as identity, student_id bigint not null unique, allergies_details TEXT, birth_place varchar(255), blood_type varchar(255), emergency_contact varchar(255), emergency_phone varchar(255), gender varchar(255), medical_info TEXT, nationality varchar(255), photo_path varchar(255), special_needs TEXT, primary key (id))
2025-01-26 21:44:01 [restartedMain] DEBUG org.hibernate.SQL - create table subjects (coefficient float(53) not null, is_optional boolean, id bigint generated by default as identity, code varchar(255) not null unique, description TEXT, name varchar(255) not null unique, primary key (id))
2025-01-26 21:44:01 [restartedMain] DEBUG org.hibernate.SQL - create table subscription_plans (duration_months integer not null, is_active boolean, max_students integer, max_teachers integer, price numeric(38,2) not null, created_at timestamp(6), id bigint generated by default as identity, updated_at timestamp(6), code varchar(255) not null unique, description varchar(255), features VARCHAR(4000), name varchar(255) not null, primary key (id))
2025-01-26 21:44:01 [restartedMain] DEBUG org.hibernate.SQL - create table user_roles (role_id bigint not null, user_id bigint not null, primary key (role_id, user_id))
2025-01-26 21:44:01 [restartedMain] DEBUG org.hibernate.SQL - create table users (enabled boolean not null, class_id bigint, id bigint generated by default as identity, email varchar(255) unique, first_name varchar(255), last_name varchar(255), password varchar(255), username varchar(255) not null unique, primary key (id))
2025-01-26 21:44:01 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists attendances add constraint FKg8lphmp6k3q3l6gj7vl359tss foreign key (course_id) references courses
2025-01-26 21:44:01 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists attendances add constraint FKkwnledkii6f9l9dgpde0a9tv9 foreign key (recorded_by_id) references users
2025-01-26 21:44:01 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists attendances add constraint FK8rw9g2dvy0k41jwi5750bt1y5 foreign key (student_id) references users
2025-01-26 21:44:01 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists class_subjects add constraint FKck6avvuoer3mgm2mbjgs0gw6m foreign key (subject_id) references subjects
2025-01-26 21:44:01 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists class_subjects add constraint FKqj4bwb8mpht4mqjlx321qt7i0 foreign key (class_id) references classes
2025-01-26 21:44:01 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists classes add constraint FK50gy8ctobyp3hp4bbfmsfspra foreign key (level_id) references levels
2025-01-26 21:44:01 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists courses add constraint FKqjnhm94oa5lu7111u8ii2gna9 foreign key (class_id) references classes
2025-01-26 21:44:01 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists courses add constraint FKt423twvp6smhwx073dsqmwcpc foreign key (professor_id) references users
2025-01-26 21:44:01 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists courses add constraint FK5tckdihu5akp5nkxiacx1gfhi foreign key (subject_id) references subjects
2025-01-26 21:44:01 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists documents add constraint FKjk1sknm9o5hc52thd7lt0y8pw foreign key (parent_id) references users
2025-01-26 21:44:01 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists documents add constraint FKl8jfa6b5rwoypt1i3j7i362s1 foreign key (student_id) references users
2025-01-26 21:44:01 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists documents add constraint FKa8xyugvg1b1gjr07r5057pn5 foreign key (uploaded_by_id) references users
2025-01-26 21:44:01 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists documents add constraint FK80r7dshfnya5u81v195l36ny5 foreign key (validated_by_id) references users
2025-01-26 21:44:01 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists event_participants add constraint FKre6m0d4mgt4351tytlkac9jvf foreign key (user_id) references users
2025-01-26 21:44:01 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists event_participants add constraint FK2x391urx4up03f4jp2y9mdt5x foreign key (event_id) references events
2025-01-26 21:44:01 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists events add constraint FKbd320pnltw8sobixakxi103t2 foreign key (created_by_id) references users
2025-01-26 21:44:01 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists exam_results add constraint FKtf85ht7yquiorwjx2xbdx3fxw foreign key (exam_id) references exams
2025-01-26 21:44:01 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists exam_results add constraint FK4refju7revqup8sjjq86jrrcy foreign key (published_by_id) references users
2025-01-26 21:44:01 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists exam_results add constraint FKbst7kt9swkr8u9luyhxql1f10 foreign key (top_scorer_id) references users
2025-01-26 21:44:01 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists exams add constraint FKkq9895f263nw6qxibikek0t40 foreign key (class_id) references classes
2025-01-26 21:44:01 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists exams add constraint FKpb6t4jh679dskd6axk3ogdknk foreign key (created_by_id) references users
2025-01-26 21:44:01 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists exams add constraint FKopre4n7j7fpxqbtbwpv8ywn1y foreign key (subject_id) references subjects
2025-01-26 21:44:01 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists invoice_items add constraint FK46ae0lhu1oqs7cv91fn6y9n7w foreign key (invoice_id) references invoices
2025-01-26 21:44:01 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists invoices add constraint FKd747hw7mxi4sy6w4u8k1iwtvs foreign key (parent_id) references users
2025-01-26 21:44:01 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists invoices add constraint FKakkfiaesng8bjgonpf07bbp4p foreign key (student_id) references users
2025-01-26 21:44:01 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists learning_resources add constraint FKlx0uf6d81kmnjmn26uq0fki60 foreign key (subject_id) references subjects
2025-01-26 21:44:01 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists learning_resources add constraint FKrt0tptfq6pvehjktgqtwqwpee foreign key (uploaded_by_id) references users
2025-01-26 21:44:01 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists level_subjects add constraint FKfvhces8my0u9t9vwt0kwhldoc foreign key (subject_id) references subjects
2025-01-26 21:44:01 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists level_subjects add constraint FKe80it3r4wkd8eq3dcep9dv9vk foreign key (level_id) references levels
2025-01-26 21:44:01 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists messages add constraint FKhdkwfnspwb3s60j27vpg0rpg6 foreign key (recipient_id) references users
2025-01-26 21:44:01 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists messages add constraint FK4ui4nnwntodh6wjvck53dbk9m foreign key (sender_id) references users
2025-01-26 21:44:01 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists parent_profiles add constraint FK1u140ttd2ovtg6wgwv0pdkeys foreign key (parent_id) references users
2025-01-26 21:44:01 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists parent_student_associations add constraint FKt6wqsxs1th69wqx1hrvpt96e9 foreign key (created_by_id) references users
2025-01-26 21:44:01 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists parent_student_associations add constraint FK4xby8ktlhdwt9u9c4jdm6476h foreign key (parent_id) references users
2025-01-26 21:44:01 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists parent_student_associations add constraint FKfv1udupbvoanl9l5geg2drcsv foreign key (student_id) references users
2025-01-26 21:44:01 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists parent_student_associations add constraint FKb81ykx64dsdl53nuxkfmh4p2p foreign key (validated_by_id) references users
2025-01-26 21:44:01 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists payment_reminders add constraint FKt55f9q09q92nlaujqa937gvr3 foreign key (invoice_id) references invoices
2025-01-26 21:44:01 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists payments add constraint FKrbqec6be74wab8iifh8g3i50i foreign key (invoice_id) references invoices
2025-01-26 21:44:01 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists role_permissions add constraint FKegdk29eiy7mdtefy5c7eirr6e foreign key (permission_id) references permissions
2025-01-26 21:44:01 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists role_permissions add constraint FKn5fotdgk8d1xvo8nav9uv3muc foreign key (role_id) references roles
2025-01-26 21:44:01 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists room_equipment add constraint FKiyhaivc7it7c8go6ursatnvte foreign key (room_id) references rooms
2025-01-26 21:44:01 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists school_subscriptions add constraint FK190w3a6y6f8elju0mmhfk2vat foreign key (plan_id) references subscription_plans
2025-01-26 21:44:01 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists school_subscriptions add constraint FKalttc6scmditcumrr5a2dqkmu foreign key (school_id) references schools
2025-01-26 21:44:01 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists student_exams add constraint FK4fquxbl5dsgopumluf9dkxaav foreign key (exam_id) references exams
2025-01-26 21:44:01 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists student_exams add constraint FK10arl9w2ql4b8s4bl6cp9s1w foreign key (graded_by_id) references users
2025-01-26 21:44:01 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists student_exams add constraint FKi37r268vxkhv7ihfw4w4ggt4o foreign key (student_id) references users
2025-01-26 21:44:01 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists student_grades add constraint FK60cso44bavrtnd2lyk7ne73st foreign key (graded_by_id) references users
2025-01-26 21:44:01 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists student_grades add constraint FK1e0w7034ps7cgc6boikuhvv3h foreign key (student_id) references users
2025-01-26 21:44:01 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists student_grades add constraint FK2prq6208b200k5vwbupe5p5wx foreign key (subject_id) references subjects
2025-01-26 21:44:01 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists student_homework add constraint FKpgm5x8gjs4uaa6ws1ho1bo5cw foreign key (assigned_by_id) references users
2025-01-26 21:44:01 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists student_homework add constraint FKsnccqdotvah5stwrxx9wvho8f foreign key (student_id) references users
2025-01-26 21:44:01 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists student_homework add constraint FKf6qq32ih6pqqh90lx1onjl8fw foreign key (subject_id) references subjects
2025-01-26 21:44:01 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists student_profiles add constraint FKajdg7dttti80dosart71wk35v foreign key (student_id) references users
2025-01-26 21:44:01 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists user_roles add constraint FKh8ciramu9cc9q3qcqiv4ue8a6 foreign key (role_id) references roles
2025-01-26 21:44:01 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists user_roles add constraint FKhfh9dx7w3ubf1co1vdev94g3f foreign key (user_id) references users
2025-01-26 21:44:01 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists users add constraint FKteip88j90fbo9odnc9gxpq6n1 foreign key (class_id) references classes
2025-01-26 21:44:02 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-26 21:44:02 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-01-26 21:44:02 [restartedMain] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'adminBillingController': Unsatisfied dependency expressed through field 'billingService': Error creating bean with name 'billingServiceImpl': Unsatisfied dependency expressed through field 'emailService': Error creating bean with name 'sendinBlueEmailServiceImpl' defined in file [C:\backup H\EclipseWorkspace\digitalSchool\target\classes\com\digital\school\service\impl\SendinBlueEmailServiceImpl.class]: Failed to instantiate [com.digital.school.service.impl.SendinBlueEmailServiceImpl]: Constructor threw exception
2025-01-26 21:44:02 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-26 21:44:02 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-01-26 21:44:03 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-01-26 21:44:03 [restartedMain] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-01-26 21:44:03 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-01-26 21:44:03 [restartedMain] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'adminBillingController': Unsatisfied dependency expressed through field 'billingService': Error creating bean with name 'billingServiceImpl': Unsatisfied dependency expressed through field 'emailService': Error creating bean with name 'sendinBlueEmailServiceImpl' defined in file [C:\backup H\EclipseWorkspace\digitalSchool\target\classes\com\digital\school\service\impl\SendinBlueEmailServiceImpl.class]: Failed to instantiate [com.digital.school.service.impl.SendinBlueEmailServiceImpl]: Constructor threw exception
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:787)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:767)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:145)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:508)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1439)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:975)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:971)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352)
	at com.digital.school.SchoolManagementApplication.main(SchoolManagementApplication.java:9)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:577)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'billingServiceImpl': Unsatisfied dependency expressed through field 'emailService': Error creating bean with name 'sendinBlueEmailServiceImpl' defined in file [C:\backup H\EclipseWorkspace\digitalSchool\target\classes\com\digital\school\service\impl\SendinBlueEmailServiceImpl.class]: Failed to instantiate [com.digital.school.service.impl.SendinBlueEmailServiceImpl]: Constructor threw exception
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:787)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:767)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:145)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:508)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1439)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:784)
	... 23 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sendinBlueEmailServiceImpl' defined in file [C:\backup H\EclipseWorkspace\digitalSchool\target\classes\com\digital\school\service\impl\SendinBlueEmailServiceImpl.class]: Failed to instantiate [com.digital.school.service.impl.SendinBlueEmailServiceImpl]: Constructor threw exception
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1337)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1222)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:784)
	... 37 common frames omitted
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.digital.school.service.impl.SendinBlueEmailServiceImpl]: Constructor threw exception
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:221)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:94)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1331)
	... 48 common frames omitted
Caused by: java.lang.NoSuchFieldError: Companion
	at okhttp3.internal.Util.<clinit>(Util.kt:70)
	at okhttp3.OkHttpClient.<clinit>(OkHttpClient.kt:1073)
	at sendinblue.ApiClient.<init>(ApiClient.java:80)
	at sendinblue.Configuration.<clinit>(Configuration.java:18)
	at com.digital.school.service.impl.SendinBlueEmailServiceImpl.<init>(SendinBlueEmailServiceImpl.java:30)
	at java.base/jdk.internal.reflect.DirectConstructorHandleAccessor.newInstance(DirectConstructorHandleAccessor.java:67)
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:483)
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:195)
	... 50 common frames omitted
2025-01-26 21:46:30 [restartedMain] INFO  c.d.s.SchoolManagementApplication - Starting SchoolManagementApplication using Java 18.0.1.1 with PID 10216 (C:\backup H\EclipseWorkspace\digitalSchool\target\classes started by rsabil in C:\backup H\EclipseWorkspace\digitalSchool)
2025-01-26 21:46:30 [restartedMain] DEBUG c.d.s.SchoolManagementApplication - Running with Spring Boot v3.3.2, Spring v6.1.11
2025-01-26 21:46:30 [restartedMain] INFO  c.d.s.SchoolManagementApplication - No active profile set, falling back to 1 default profile: "default"
2025-01-26 21:46:30 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-01-26 21:46:30 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-01-26 21:46:31 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-26 21:46:31 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 205 ms. Found 26 JPA repository interfaces.
2025-01-26 21:46:32 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 9090 (http)
2025-01-26 21:46:32 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-9090"]
2025-01-26 21:46:32 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-01-26 21:46:32 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.26]
2025-01-26 21:46:32 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-01-26 21:46:32 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2484 ms
2025-01-26 21:46:32 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-01-26 21:46:32 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:file:./src/main/resources/db/digischool user=
2025-01-26 21:46:32 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-01-26 21:46:33 [restartedMain] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:file:./src/main/resources/db/digischool'
2025-01-26 21:46:33 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-26 21:46:33 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.5.2.Final
2025-01-26 21:46:33 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-01-26 21:46:33 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-26 21:46:33 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-01-26 21:46:34 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-26 21:46:34 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists attendances cascade 
2025-01-26 21:46:34 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists class_subjects cascade 
2025-01-26 21:46:34 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists classes cascade 
2025-01-26 21:46:34 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists courses cascade 
2025-01-26 21:46:34 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists documents cascade 
2025-01-26 21:46:34 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists event_participants cascade 
2025-01-26 21:46:34 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists events cascade 
2025-01-26 21:46:34 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists exam_results cascade 
2025-01-26 21:46:34 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists exams cascade 
2025-01-26 21:46:34 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists invoice_items cascade 
2025-01-26 21:46:34 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists invoices cascade 
2025-01-26 21:46:34 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists learning_resources cascade 
2025-01-26 21:46:34 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists level_subjects cascade 
2025-01-26 21:46:34 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists levels cascade 
2025-01-26 21:46:34 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists messages cascade 
2025-01-26 21:46:34 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists parent_profiles cascade 
2025-01-26 21:46:34 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists parent_student_associations cascade 
2025-01-26 21:46:34 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists payment_reminders cascade 
2025-01-26 21:46:34 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists payments cascade 
2025-01-26 21:46:34 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists permissions cascade 
2025-01-26 21:46:34 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists role_permissions cascade 
2025-01-26 21:46:34 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists roles cascade 
2025-01-26 21:46:34 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists room_equipment cascade 
2025-01-26 21:46:34 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists rooms cascade 
2025-01-26 21:46:34 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists school_subscriptions cascade 
2025-01-26 21:46:34 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists schools cascade 
2025-01-26 21:46:34 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists student_exams cascade 
2025-01-26 21:46:34 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists student_grades cascade 
2025-01-26 21:46:34 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists student_homework cascade 
2025-01-26 21:46:34 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists student_profiles cascade 
2025-01-26 21:46:34 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists subjects cascade 
2025-01-26 21:46:34 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists subscription_plans cascade 
2025-01-26 21:46:34 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists user_roles cascade 
2025-01-26 21:46:34 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists users cascade 
2025-01-26 21:46:34 [restartedMain] DEBUG org.hibernate.SQL - create table attendances (course_id bigint not null, id bigint generated by default as identity, recorded_at timestamp(6), recorded_by_id bigint, student_id bigint not null, justification TEXT, status enum ('ABSENT','EXCUSED','LATE','PRESENT') not null, primary key (id))
2025-01-26 21:46:34 [restartedMain] DEBUG org.hibernate.SQL - create table class_subjects (class_id bigint not null, subject_id bigint not null, primary key (class_id, subject_id))
2025-01-26 21:46:34 [restartedMain] DEBUG org.hibernate.SQL - create table classes (max_students integer, id bigint generated by default as identity, level_id bigint not null, name varchar(255) not null, school_year varchar(255), primary key (id))
2025-01-26 21:46:34 [restartedMain] DEBUG org.hibernate.SQL - create table courses (class_id bigint not null, end_time timestamp(6), id bigint generated by default as identity, professor_id bigint not null, start_time timestamp(6), subject_id bigint not null, description TEXT, room varchar(255), primary key (id))
2025-01-26 21:46:34 [restartedMain] DEBUG org.hibernate.SQL - create table documents (is_validated boolean, file_size bigint, id bigint generated by default as identity, parent_id bigint, student_id bigint, uploaded_at timestamp(6), uploaded_by_id bigint, validated_at timestamp(6), validated_by_id bigint, category varchar(255) not null, description TEXT, file_path varchar(255) not null, mime_type varchar(255), name varchar(255) not null, type varchar(255) not null, primary key (id))
2025-01-26 21:46:34 [restartedMain] DEBUG org.hibernate.SQL - create table event_participants (event_id bigint not null, user_id bigint not null, primary key (event_id, user_id))
2025-01-26 21:46:34 [restartedMain] DEBUG org.hibernate.SQL - create table events (all_day boolean not null, created_by_id bigint, end_time timestamp(6) not null, id bigint generated by default as identity, start_time timestamp(6) not null, background_color varchar(255), description TEXT, location varchar(255), text_color varchar(255), title varchar(255) not null, type enum ('COURSE','EVENT','EXAM','MEETING') not null, primary key (id))
2025-01-26 21:46:34 [restartedMain] DEBUG org.hibernate.SQL - create table exam_results (class_average float(53), failed_students integer, highest_score float(53), lowest_score float(53), passed_students integer, total_students integer, exam_id bigint not null unique, id bigint generated by default as identity, published_at timestamp(6), published_by_id bigint, top_scorer_id bigint, primary key (id))
2025-01-26 21:46:34 [restartedMain] DEBUG org.hibernate.SQL - create table exams (duration integer not null, is_published boolean not null, max_score float(53) not null, class_id bigint not null, created_at timestamp(6), created_by_id bigint, exam_date timestamp(6) not null, id bigint generated by default as identity, subject_id bigint not null, description TEXT, name varchar(255) not null, status enum ('CANCELLED','COMPLETED','IN_PROGRESS','SCHEDULED') not null, primary key (id))
2025-01-26 21:46:34 [restartedMain] DEBUG org.hibernate.SQL - create table invoice_items (amount numeric(10,2), quantity integer, total numeric(10,2), id bigint generated by default as identity, invoice_id bigint, description varchar(255), type varchar(255), primary key (id))
2025-01-26 21:46:34 [restartedMain] DEBUG org.hibernate.SQL - create table invoices (installment_count integer, installment_enabled boolean not null, reminder_count integer, total_amount numeric(10,2), due_date timestamp(6), id bigint generated by default as identity, issue_date timestamp(6), last_reminder_sent timestamp(6), parent_id bigint, student_id bigint, invoice_number varchar(255) unique, notes varchar(255), pdf_path TEXT, status varchar(255), primary key (id))
2025-01-26 21:46:34 [restartedMain] DEBUG org.hibernate.SQL - create table learning_resources (id bigint generated by default as identity, subject_id bigint, uploaded_at timestamp(6), uploaded_by_id bigint, description varchar(255), title varchar(255), type varchar(255), url varchar(255), primary key (id))
2025-01-26 21:46:34 [restartedMain] DEBUG org.hibernate.SQL - create table level_subjects (level_id bigint not null, subject_id bigint not null, primary key (level_id, subject_id))
2025-01-26 21:46:34 [restartedMain] DEBUG org.hibernate.SQL - create table levels ("order" integer not null, id bigint generated by default as identity, code varchar(255) not null unique, cycle varchar(255) not null, name varchar(255) not null, level_name enum ('CE1','CE2','CINQUIEME','CM1','CM2','CP','PREMIERE','QUATRIEME','SECONDE','SIXIEME','TERMINALE','TROISIEME') not null, primary key (id))
2025-01-26 21:46:34 [restartedMain] DEBUG org.hibernate.SQL - create table messages (is_read boolean not null, id bigint generated by default as identity, read_at timestamp(6), recipient_id bigint not null, sender_id bigint not null, sent_at timestamp(6), content TEXT not null, subject varchar(255) not null, primary key (id))
2025-01-26 21:46:34 [restartedMain] DEBUG org.hibernate.SQL - create table parent_profiles (id bigint generated by default as identity, parent_id bigint not null unique, additional_info TEXT, marital_status varchar(255), preferred_contact_method varchar(255), preferred_contact_time varchar(255), profession varchar(255), work_address varchar(255), work_phone varchar(255), primary key (id))
2025-01-26 21:46:34 [restartedMain] DEBUG org.hibernate.SQL - create table parent_student_associations (emergency_contact boolean, has_custody boolean, is_primary_contact boolean, is_validated boolean, created_at timestamp(6), created_by_id bigint, id bigint generated by default as identity, parent_id bigint not null, student_id bigint not null, validated_at timestamp(6), validated_by_id bigint, relationship varchar(255) not null, primary key (id))
2025-01-26 21:46:34 [restartedMain] DEBUG org.hibernate.SQL - create table payment_reminders (id bigint generated by default as identity, invoice_id bigint, sent_at timestamp(6), content varchar(255), status varchar(255), type varchar(255), primary key (id))
2025-01-26 21:46:34 [restartedMain] DEBUG org.hibernate.SQL - create table payments (amount numeric(10,2), id bigint generated by default as identity, invoice_id bigint, payment_date timestamp(6), error_message varchar(255), payment_method varchar(255), receipt_path TEXT, status varchar(255), transaction_id varchar(255), primary key (id))
2025-01-26 21:46:34 [restartedMain] DEBUG org.hibernate.SQL - create table permissions (id bigint generated by default as identity, description varchar(255), name enum ('MANAGE_ATTENDANCE','MANAGE_CLASSES','MANAGE_COURSES','MANAGE_EVENTS','MANAGE_EXAMS','MANAGE_USERS','SUBMIT_HOMEWORK','VIEW_CALENDAR','VIEW_DASHBOARD','VIEW_RESULTS') not null unique, primary key (id))
2025-01-26 21:46:34 [restartedMain] DEBUG org.hibernate.SQL - create table role_permissions (permission_id bigint not null, role_id bigint not null, primary key (permission_id, role_id))
2025-01-26 21:46:34 [restartedMain] DEBUG org.hibernate.SQL - create table roles (id bigint generated by default as identity, name enum ('ROLE_ADMIN','ROLE_PARENT','ROLE_PROFESSOR','ROLE_STUDENT') not null unique, primary key (id))
2025-01-26 21:46:34 [restartedMain] DEBUG org.hibernate.SQL - create table room_equipment (room_id bigint not null, equipment varchar(255))
2025-01-26 21:46:34 [restartedMain] DEBUG org.hibernate.SQL - create table rooms (floor_number integer, is_accessible boolean, max_capacity integer, id bigint generated by default as identity, building_name varchar(255), description TEXT, maintenance_notes TEXT, name varchar(255) not null unique, status varchar(255) not null, primary key (id))
2025-01-26 21:46:34 [restartedMain] DEBUG org.hibernate.SQL - create table school_subscriptions (auto_renew boolean, created_at timestamp(6), end_date timestamp(6) not null, id bigint generated by default as identity, plan_id bigint, school_id bigint, start_date timestamp(6) not null, updated_at timestamp(6), status varchar(255), primary key (id))
2025-01-26 21:46:34 [restartedMain] DEBUG org.hibernate.SQL - create table schools (created_at timestamp(6), id bigint generated by default as identity, updated_at timestamp(6), address varchar(255), city varchar(255), code varchar(255) not null unique, country varchar(255), email varchar(255), logo_url varchar(255), name varchar(255) not null, phone varchar(255), status varchar(255), website varchar(255), primary key (id))
2025-01-26 21:46:34 [restartedMain] DEBUG org.hibernate.SQL - create table student_exams (is_present boolean not null, score float(53), exam_id bigint not null, graded_at timestamp(6), graded_by_id bigint, id bigint generated by default as identity, student_id bigint not null, submitted_at timestamp(6), remarks TEXT, primary key (id))
2025-01-26 21:46:34 [restartedMain] DEBUG org.hibernate.SQL - create table student_grades (class_average float(53), grade_value float(24), date timestamp(6), graded_by_id bigint, id bigint generated by default as identity, student_id bigint, subject_id bigint, comments varchar(255), title varchar(255), primary key (id))
2025-01-26 21:46:34 [restartedMain] DEBUG org.hibernate.SQL - create table student_homework (grade float(53), assigned_by_id bigint, due_date timestamp(6), id bigint generated by default as identity, student_id bigint, subject_id bigint, description varchar(255), feedback varchar(255), status varchar(255), submission_path varchar(255), title varchar(255), primary key (id))
2025-01-26 21:46:34 [restartedMain] DEBUG org.hibernate.SQL - create table student_profiles (birth_date date, has_allergies boolean, id bigint generated by default as identity, student_id bigint not null unique, allergies_details TEXT, birth_place varchar(255), blood_type varchar(255), emergency_contact varchar(255), emergency_phone varchar(255), gender varchar(255), medical_info TEXT, nationality varchar(255), photo_path varchar(255), special_needs TEXT, primary key (id))
2025-01-26 21:46:34 [restartedMain] DEBUG org.hibernate.SQL - create table subjects (coefficient float(53) not null, is_optional boolean, id bigint generated by default as identity, code varchar(255) not null unique, description TEXT, name varchar(255) not null unique, primary key (id))
2025-01-26 21:46:34 [restartedMain] DEBUG org.hibernate.SQL - create table subscription_plans (duration_months integer not null, is_active boolean, max_students integer, max_teachers integer, price numeric(38,2) not null, created_at timestamp(6), id bigint generated by default as identity, updated_at timestamp(6), code varchar(255) not null unique, description varchar(255), features VARCHAR(4000), name varchar(255) not null, primary key (id))
2025-01-26 21:46:34 [restartedMain] DEBUG org.hibernate.SQL - create table user_roles (role_id bigint not null, user_id bigint not null, primary key (role_id, user_id))
2025-01-26 21:46:34 [restartedMain] DEBUG org.hibernate.SQL - create table users (enabled boolean not null, class_id bigint, id bigint generated by default as identity, email varchar(255) unique, first_name varchar(255), last_name varchar(255), password varchar(255), username varchar(255) not null unique, primary key (id))
2025-01-26 21:46:34 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists attendances add constraint FKg8lphmp6k3q3l6gj7vl359tss foreign key (course_id) references courses
2025-01-26 21:46:34 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists attendances add constraint FKkwnledkii6f9l9dgpde0a9tv9 foreign key (recorded_by_id) references users
2025-01-26 21:46:34 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists attendances add constraint FK8rw9g2dvy0k41jwi5750bt1y5 foreign key (student_id) references users
2025-01-26 21:46:34 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists class_subjects add constraint FKck6avvuoer3mgm2mbjgs0gw6m foreign key (subject_id) references subjects
2025-01-26 21:46:34 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists class_subjects add constraint FKqj4bwb8mpht4mqjlx321qt7i0 foreign key (class_id) references classes
2025-01-26 21:46:34 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists classes add constraint FK50gy8ctobyp3hp4bbfmsfspra foreign key (level_id) references levels
2025-01-26 21:46:34 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists courses add constraint FKqjnhm94oa5lu7111u8ii2gna9 foreign key (class_id) references classes
2025-01-26 21:46:34 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists courses add constraint FKt423twvp6smhwx073dsqmwcpc foreign key (professor_id) references users
2025-01-26 21:46:34 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists courses add constraint FK5tckdihu5akp5nkxiacx1gfhi foreign key (subject_id) references subjects
2025-01-26 21:46:34 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists documents add constraint FKjk1sknm9o5hc52thd7lt0y8pw foreign key (parent_id) references users
2025-01-26 21:46:34 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists documents add constraint FKl8jfa6b5rwoypt1i3j7i362s1 foreign key (student_id) references users
2025-01-26 21:46:35 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists documents add constraint FKa8xyugvg1b1gjr07r5057pn5 foreign key (uploaded_by_id) references users
2025-01-26 21:46:35 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists documents add constraint FK80r7dshfnya5u81v195l36ny5 foreign key (validated_by_id) references users
2025-01-26 21:46:35 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists event_participants add constraint FKre6m0d4mgt4351tytlkac9jvf foreign key (user_id) references users
2025-01-26 21:46:35 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists event_participants add constraint FK2x391urx4up03f4jp2y9mdt5x foreign key (event_id) references events
2025-01-26 21:46:35 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists events add constraint FKbd320pnltw8sobixakxi103t2 foreign key (created_by_id) references users
2025-01-26 21:46:35 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists exam_results add constraint FKtf85ht7yquiorwjx2xbdx3fxw foreign key (exam_id) references exams
2025-01-26 21:46:35 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists exam_results add constraint FK4refju7revqup8sjjq86jrrcy foreign key (published_by_id) references users
2025-01-26 21:46:35 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists exam_results add constraint FKbst7kt9swkr8u9luyhxql1f10 foreign key (top_scorer_id) references users
2025-01-26 21:46:35 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists exams add constraint FKkq9895f263nw6qxibikek0t40 foreign key (class_id) references classes
2025-01-26 21:46:35 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists exams add constraint FKpb6t4jh679dskd6axk3ogdknk foreign key (created_by_id) references users
2025-01-26 21:46:35 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists exams add constraint FKopre4n7j7fpxqbtbwpv8ywn1y foreign key (subject_id) references subjects
2025-01-26 21:46:35 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists invoice_items add constraint FK46ae0lhu1oqs7cv91fn6y9n7w foreign key (invoice_id) references invoices
2025-01-26 21:46:35 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists invoices add constraint FKd747hw7mxi4sy6w4u8k1iwtvs foreign key (parent_id) references users
2025-01-26 21:46:35 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists invoices add constraint FKakkfiaesng8bjgonpf07bbp4p foreign key (student_id) references users
2025-01-26 21:46:35 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists learning_resources add constraint FKlx0uf6d81kmnjmn26uq0fki60 foreign key (subject_id) references subjects
2025-01-26 21:46:35 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists learning_resources add constraint FKrt0tptfq6pvehjktgqtwqwpee foreign key (uploaded_by_id) references users
2025-01-26 21:46:35 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists level_subjects add constraint FKfvhces8my0u9t9vwt0kwhldoc foreign key (subject_id) references subjects
2025-01-26 21:46:35 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists level_subjects add constraint FKe80it3r4wkd8eq3dcep9dv9vk foreign key (level_id) references levels
2025-01-26 21:46:35 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists messages add constraint FKhdkwfnspwb3s60j27vpg0rpg6 foreign key (recipient_id) references users
2025-01-26 21:46:35 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists messages add constraint FK4ui4nnwntodh6wjvck53dbk9m foreign key (sender_id) references users
2025-01-26 21:46:35 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists parent_profiles add constraint FK1u140ttd2ovtg6wgwv0pdkeys foreign key (parent_id) references users
2025-01-26 21:46:35 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists parent_student_associations add constraint FKt6wqsxs1th69wqx1hrvpt96e9 foreign key (created_by_id) references users
2025-01-26 21:46:35 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists parent_student_associations add constraint FK4xby8ktlhdwt9u9c4jdm6476h foreign key (parent_id) references users
2025-01-26 21:46:35 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists parent_student_associations add constraint FKfv1udupbvoanl9l5geg2drcsv foreign key (student_id) references users
2025-01-26 21:46:35 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists parent_student_associations add constraint FKb81ykx64dsdl53nuxkfmh4p2p foreign key (validated_by_id) references users
2025-01-26 21:46:35 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists payment_reminders add constraint FKt55f9q09q92nlaujqa937gvr3 foreign key (invoice_id) references invoices
2025-01-26 21:46:35 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists payments add constraint FKrbqec6be74wab8iifh8g3i50i foreign key (invoice_id) references invoices
2025-01-26 21:46:35 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists role_permissions add constraint FKegdk29eiy7mdtefy5c7eirr6e foreign key (permission_id) references permissions
2025-01-26 21:46:35 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists role_permissions add constraint FKn5fotdgk8d1xvo8nav9uv3muc foreign key (role_id) references roles
2025-01-26 21:46:35 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists room_equipment add constraint FKiyhaivc7it7c8go6ursatnvte foreign key (room_id) references rooms
2025-01-26 21:46:35 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists school_subscriptions add constraint FK190w3a6y6f8elju0mmhfk2vat foreign key (plan_id) references subscription_plans
2025-01-26 21:46:35 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists school_subscriptions add constraint FKalttc6scmditcumrr5a2dqkmu foreign key (school_id) references schools
2025-01-26 21:46:35 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists student_exams add constraint FK4fquxbl5dsgopumluf9dkxaav foreign key (exam_id) references exams
2025-01-26 21:46:35 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists student_exams add constraint FK10arl9w2ql4b8s4bl6cp9s1w foreign key (graded_by_id) references users
2025-01-26 21:46:35 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists student_exams add constraint FKi37r268vxkhv7ihfw4w4ggt4o foreign key (student_id) references users
2025-01-26 21:46:35 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists student_grades add constraint FK60cso44bavrtnd2lyk7ne73st foreign key (graded_by_id) references users
2025-01-26 21:46:35 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists student_grades add constraint FK1e0w7034ps7cgc6boikuhvv3h foreign key (student_id) references users
2025-01-26 21:46:35 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists student_grades add constraint FK2prq6208b200k5vwbupe5p5wx foreign key (subject_id) references subjects
2025-01-26 21:46:35 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists student_homework add constraint FKpgm5x8gjs4uaa6ws1ho1bo5cw foreign key (assigned_by_id) references users
2025-01-26 21:46:35 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists student_homework add constraint FKsnccqdotvah5stwrxx9wvho8f foreign key (student_id) references users
2025-01-26 21:46:35 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists student_homework add constraint FKf6qq32ih6pqqh90lx1onjl8fw foreign key (subject_id) references subjects
2025-01-26 21:46:35 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists student_profiles add constraint FKajdg7dttti80dosart71wk35v foreign key (student_id) references users
2025-01-26 21:46:35 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists user_roles add constraint FKh8ciramu9cc9q3qcqiv4ue8a6 foreign key (role_id) references roles
2025-01-26 21:46:35 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists user_roles add constraint FKhfh9dx7w3ubf1co1vdev94g3f foreign key (user_id) references users
2025-01-26 21:46:35 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists users add constraint FKteip88j90fbo9odnc9gxpq6n1 foreign key (class_id) references classes
2025-01-26 21:46:35 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-26 21:46:35 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-01-26 21:46:35 [restartedMain] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'adminBillingController': Unsatisfied dependency expressed through field 'billingService': Error creating bean with name 'billingServiceImpl': Unsatisfied dependency expressed through field 'emailService': Error creating bean with name 'sendinBlueEmailServiceImpl' defined in file [C:\backup H\EclipseWorkspace\digitalSchool\target\classes\com\digital\school\service\impl\SendinBlueEmailServiceImpl.class]: Failed to instantiate [com.digital.school.service.impl.SendinBlueEmailServiceImpl]: Constructor threw exception
2025-01-26 21:46:35 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-26 21:46:35 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-01-26 21:46:35 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-01-26 21:46:35 [restartedMain] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-01-26 21:46:35 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-01-26 21:46:35 [restartedMain] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'adminBillingController': Unsatisfied dependency expressed through field 'billingService': Error creating bean with name 'billingServiceImpl': Unsatisfied dependency expressed through field 'emailService': Error creating bean with name 'sendinBlueEmailServiceImpl' defined in file [C:\backup H\EclipseWorkspace\digitalSchool\target\classes\com\digital\school\service\impl\SendinBlueEmailServiceImpl.class]: Failed to instantiate [com.digital.school.service.impl.SendinBlueEmailServiceImpl]: Constructor threw exception
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:787)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:767)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:145)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:508)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1439)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:975)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:971)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352)
	at com.digital.school.SchoolManagementApplication.main(SchoolManagementApplication.java:9)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:577)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'billingServiceImpl': Unsatisfied dependency expressed through field 'emailService': Error creating bean with name 'sendinBlueEmailServiceImpl' defined in file [C:\backup H\EclipseWorkspace\digitalSchool\target\classes\com\digital\school\service\impl\SendinBlueEmailServiceImpl.class]: Failed to instantiate [com.digital.school.service.impl.SendinBlueEmailServiceImpl]: Constructor threw exception
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:787)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:767)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:145)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:508)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1439)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:784)
	... 23 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sendinBlueEmailServiceImpl' defined in file [C:\backup H\EclipseWorkspace\digitalSchool\target\classes\com\digital\school\service\impl\SendinBlueEmailServiceImpl.class]: Failed to instantiate [com.digital.school.service.impl.SendinBlueEmailServiceImpl]: Constructor threw exception
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1337)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1222)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:784)
	... 37 common frames omitted
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.digital.school.service.impl.SendinBlueEmailServiceImpl]: Constructor threw exception
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:221)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:94)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1331)
	... 48 common frames omitted
Caused by: java.lang.NoSuchFieldError: Companion
	at okhttp3.internal.Util.<clinit>(Util.kt:70)
	at okhttp3.OkHttpClient.<clinit>(OkHttpClient.kt:1073)
	at sendinblue.ApiClient.<init>(ApiClient.java:80)
	at sendinblue.Configuration.<clinit>(Configuration.java:18)
	at com.digital.school.service.impl.SendinBlueEmailServiceImpl.<init>(SendinBlueEmailServiceImpl.java:30)
	at java.base/jdk.internal.reflect.DirectConstructorHandleAccessor.newInstance(DirectConstructorHandleAccessor.java:67)
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:483)
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:195)
	... 50 common frames omitted
2025-01-26 21:52:24 [restartedMain] INFO  c.d.s.SchoolManagementApplication - Starting SchoolManagementApplication using Java 18.0.1.1 with PID 18500 (C:\backup H\EclipseWorkspace\digitalSchool\target\classes started by rsabil in C:\backup H\EclipseWorkspace\digitalSchool)
2025-01-26 21:52:24 [restartedMain] DEBUG c.d.s.SchoolManagementApplication - Running with Spring Boot v3.3.2, Spring v6.1.11
2025-01-26 21:52:24 [restartedMain] INFO  c.d.s.SchoolManagementApplication - No active profile set, falling back to 1 default profile: "default"
2025-01-26 21:52:24 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-01-26 21:52:24 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-01-26 21:52:26 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-26 21:52:26 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 186 ms. Found 26 JPA repository interfaces.
2025-01-26 21:52:26 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 9090 (http)
2025-01-26 21:52:26 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-9090"]
2025-01-26 21:52:27 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-01-26 21:52:27 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.26]
2025-01-26 21:52:27 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-01-26 21:52:27 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2329 ms
2025-01-26 21:52:27 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-01-26 21:52:27 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:file:./src/main/resources/db/digischool user=
2025-01-26 21:52:27 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-01-26 21:52:27 [restartedMain] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:file:./src/main/resources/db/digischool'
2025-01-26 21:52:27 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-26 21:52:27 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.5.2.Final
2025-01-26 21:52:27 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-01-26 21:52:28 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-26 21:52:28 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-01-26 21:52:29 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-26 21:52:29 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists attendances cascade 
2025-01-26 21:52:29 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists class_subjects cascade 
2025-01-26 21:52:29 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists classes cascade 
2025-01-26 21:52:29 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists courses cascade 
2025-01-26 21:52:29 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists documents cascade 
2025-01-26 21:52:29 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists event_participants cascade 
2025-01-26 21:52:29 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists events cascade 
2025-01-26 21:52:29 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists exam_results cascade 
2025-01-26 21:52:29 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists exams cascade 
2025-01-26 21:52:29 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists invoice_items cascade 
2025-01-26 21:52:29 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists invoices cascade 
2025-01-26 21:52:29 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists learning_resources cascade 
2025-01-26 21:52:29 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists level_subjects cascade 
2025-01-26 21:52:29 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists levels cascade 
2025-01-26 21:52:29 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists messages cascade 
2025-01-26 21:52:29 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists parent_profiles cascade 
2025-01-26 21:52:29 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists parent_student_associations cascade 
2025-01-26 21:52:29 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists payment_reminders cascade 
2025-01-26 21:52:29 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists payments cascade 
2025-01-26 21:52:29 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists permissions cascade 
2025-01-26 21:52:29 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists role_permissions cascade 
2025-01-26 21:52:29 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists roles cascade 
2025-01-26 21:52:29 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists room_equipment cascade 
2025-01-26 21:52:29 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists rooms cascade 
2025-01-26 21:52:29 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists school_subscriptions cascade 
2025-01-26 21:52:29 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists schools cascade 
2025-01-26 21:52:29 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists student_exams cascade 
2025-01-26 21:52:29 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists student_grades cascade 
2025-01-26 21:52:29 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists student_homework cascade 
2025-01-26 21:52:29 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists student_profiles cascade 
2025-01-26 21:52:29 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists subjects cascade 
2025-01-26 21:52:29 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists subscription_plans cascade 
2025-01-26 21:52:29 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists user_roles cascade 
2025-01-26 21:52:29 [restartedMain] DEBUG org.hibernate.SQL - drop table if exists users cascade 
2025-01-26 21:52:29 [restartedMain] DEBUG org.hibernate.SQL - create table attendances (course_id bigint not null, id bigint generated by default as identity, recorded_at timestamp(6), recorded_by_id bigint, student_id bigint not null, justification TEXT, status enum ('ABSENT','EXCUSED','LATE','PRESENT') not null, primary key (id))
2025-01-26 21:52:29 [restartedMain] DEBUG org.hibernate.SQL - create table class_subjects (class_id bigint not null, subject_id bigint not null, primary key (class_id, subject_id))
2025-01-26 21:52:29 [restartedMain] DEBUG org.hibernate.SQL - create table classes (max_students integer, id bigint generated by default as identity, level_id bigint not null, name varchar(255) not null, school_year varchar(255), primary key (id))
2025-01-26 21:52:29 [restartedMain] DEBUG org.hibernate.SQL - create table courses (class_id bigint not null, end_time timestamp(6), id bigint generated by default as identity, professor_id bigint not null, start_time timestamp(6), subject_id bigint not null, description TEXT, room varchar(255), primary key (id))
2025-01-26 21:52:29 [restartedMain] DEBUG org.hibernate.SQL - create table documents (is_validated boolean, file_size bigint, id bigint generated by default as identity, parent_id bigint, student_id bigint, uploaded_at timestamp(6), uploaded_by_id bigint, validated_at timestamp(6), validated_by_id bigint, category varchar(255) not null, description TEXT, file_path varchar(255) not null, mime_type varchar(255), name varchar(255) not null, type varchar(255) not null, primary key (id))
2025-01-26 21:52:29 [restartedMain] DEBUG org.hibernate.SQL - create table event_participants (event_id bigint not null, user_id bigint not null, primary key (event_id, user_id))
2025-01-26 21:52:29 [restartedMain] DEBUG org.hibernate.SQL - create table events (all_day boolean not null, created_by_id bigint, end_time timestamp(6) not null, id bigint generated by default as identity, start_time timestamp(6) not null, background_color varchar(255), description TEXT, location varchar(255), text_color varchar(255), title varchar(255) not null, type enum ('COURSE','EVENT','EXAM','MEETING') not null, primary key (id))
2025-01-26 21:52:29 [restartedMain] DEBUG org.hibernate.SQL - create table exam_results (class_average float(53), failed_students integer, highest_score float(53), lowest_score float(53), passed_students integer, total_students integer, exam_id bigint not null unique, id bigint generated by default as identity, published_at timestamp(6), published_by_id bigint, top_scorer_id bigint, primary key (id))
2025-01-26 21:52:29 [restartedMain] DEBUG org.hibernate.SQL - create table exams (duration integer not null, is_published boolean not null, max_score float(53) not null, class_id bigint not null, created_at timestamp(6), created_by_id bigint, exam_date timestamp(6) not null, id bigint generated by default as identity, subject_id bigint not null, description TEXT, name varchar(255) not null, status enum ('CANCELLED','COMPLETED','IN_PROGRESS','SCHEDULED') not null, primary key (id))
2025-01-26 21:52:29 [restartedMain] DEBUG org.hibernate.SQL - create table invoice_items (amount numeric(10,2), quantity integer, total numeric(10,2), id bigint generated by default as identity, invoice_id bigint, description varchar(255), type varchar(255), primary key (id))
2025-01-26 21:52:29 [restartedMain] DEBUG org.hibernate.SQL - create table invoices (installment_count integer, installment_enabled boolean not null, reminder_count integer, total_amount numeric(10,2), due_date timestamp(6), id bigint generated by default as identity, issue_date timestamp(6), last_reminder_sent timestamp(6), parent_id bigint, student_id bigint, invoice_number varchar(255) unique, notes varchar(255), pdf_path TEXT, status varchar(255), primary key (id))
2025-01-26 21:52:29 [restartedMain] DEBUG org.hibernate.SQL - create table learning_resources (id bigint generated by default as identity, subject_id bigint, uploaded_at timestamp(6), uploaded_by_id bigint, description varchar(255), title varchar(255), type varchar(255), url varchar(255), primary key (id))
2025-01-26 21:52:29 [restartedMain] DEBUG org.hibernate.SQL - create table level_subjects (level_id bigint not null, subject_id bigint not null, primary key (level_id, subject_id))
2025-01-26 21:52:29 [restartedMain] DEBUG org.hibernate.SQL - create table levels ("order" integer not null, id bigint generated by default as identity, code varchar(255) not null unique, cycle varchar(255) not null, name varchar(255) not null, level_name enum ('CE1','CE2','CINQUIEME','CM1','CM2','CP','PREMIERE','QUATRIEME','SECONDE','SIXIEME','TERMINALE','TROISIEME') not null, primary key (id))
2025-01-26 21:52:29 [restartedMain] DEBUG org.hibernate.SQL - create table messages (is_read boolean not null, id bigint generated by default as identity, read_at timestamp(6), recipient_id bigint not null, sender_id bigint not null, sent_at timestamp(6), content TEXT not null, subject varchar(255) not null, primary key (id))
2025-01-26 21:52:29 [restartedMain] DEBUG org.hibernate.SQL - create table parent_profiles (id bigint generated by default as identity, parent_id bigint not null unique, additional_info TEXT, marital_status varchar(255), preferred_contact_method varchar(255), preferred_contact_time varchar(255), profession varchar(255), work_address varchar(255), work_phone varchar(255), primary key (id))
2025-01-26 21:52:29 [restartedMain] DEBUG org.hibernate.SQL - create table parent_student_associations (emergency_contact boolean, has_custody boolean, is_primary_contact boolean, is_validated boolean, created_at timestamp(6), created_by_id bigint, id bigint generated by default as identity, parent_id bigint not null, student_id bigint not null, validated_at timestamp(6), validated_by_id bigint, relationship varchar(255) not null, primary key (id))
2025-01-26 21:52:29 [restartedMain] DEBUG org.hibernate.SQL - create table payment_reminders (id bigint generated by default as identity, invoice_id bigint, sent_at timestamp(6), content varchar(255), status varchar(255), type varchar(255), primary key (id))
2025-01-26 21:52:29 [restartedMain] DEBUG org.hibernate.SQL - create table payments (amount numeric(10,2), id bigint generated by default as identity, invoice_id bigint, payment_date timestamp(6), error_message varchar(255), payment_method varchar(255), receipt_path TEXT, status varchar(255), transaction_id varchar(255), primary key (id))
2025-01-26 21:52:29 [restartedMain] DEBUG org.hibernate.SQL - create table permissions (id bigint generated by default as identity, description varchar(255), name enum ('MANAGE_ATTENDANCE','MANAGE_CLASSES','MANAGE_COURSES','MANAGE_EVENTS','MANAGE_EXAMS','MANAGE_USERS','SUBMIT_HOMEWORK','VIEW_CALENDAR','VIEW_DASHBOARD','VIEW_RESULTS') not null unique, primary key (id))
2025-01-26 21:52:29 [restartedMain] DEBUG org.hibernate.SQL - create table role_permissions (permission_id bigint not null, role_id bigint not null, primary key (permission_id, role_id))
2025-01-26 21:52:29 [restartedMain] DEBUG org.hibernate.SQL - create table roles (id bigint generated by default as identity, name enum ('ROLE_ADMIN','ROLE_PARENT','ROLE_PROFESSOR','ROLE_STUDENT') not null unique, primary key (id))
2025-01-26 21:52:29 [restartedMain] DEBUG org.hibernate.SQL - create table room_equipment (room_id bigint not null, equipment varchar(255))
2025-01-26 21:52:29 [restartedMain] DEBUG org.hibernate.SQL - create table rooms (floor_number integer, is_accessible boolean, max_capacity integer, id bigint generated by default as identity, building_name varchar(255), description TEXT, maintenance_notes TEXT, name varchar(255) not null unique, status varchar(255) not null, primary key (id))
2025-01-26 21:52:29 [restartedMain] DEBUG org.hibernate.SQL - create table school_subscriptions (auto_renew boolean, created_at timestamp(6), end_date timestamp(6) not null, id bigint generated by default as identity, plan_id bigint, school_id bigint, start_date timestamp(6) not null, updated_at timestamp(6), status varchar(255), primary key (id))
2025-01-26 21:52:29 [restartedMain] DEBUG org.hibernate.SQL - create table schools (created_at timestamp(6), id bigint generated by default as identity, updated_at timestamp(6), address varchar(255), city varchar(255), code varchar(255) not null unique, country varchar(255), email varchar(255), logo_url varchar(255), name varchar(255) not null, phone varchar(255), status varchar(255), website varchar(255), primary key (id))
2025-01-26 21:52:29 [restartedMain] DEBUG org.hibernate.SQL - create table student_exams (is_present boolean not null, score float(53), exam_id bigint not null, graded_at timestamp(6), graded_by_id bigint, id bigint generated by default as identity, student_id bigint not null, submitted_at timestamp(6), remarks TEXT, primary key (id))
2025-01-26 21:52:29 [restartedMain] DEBUG org.hibernate.SQL - create table student_grades (class_average float(53), grade_value float(24), date timestamp(6), graded_by_id bigint, id bigint generated by default as identity, student_id bigint, subject_id bigint, comments varchar(255), title varchar(255), primary key (id))
2025-01-26 21:52:29 [restartedMain] DEBUG org.hibernate.SQL - create table student_homework (grade float(53), assigned_by_id bigint, due_date timestamp(6), id bigint generated by default as identity, student_id bigint, subject_id bigint, description varchar(255), feedback varchar(255), status varchar(255), submission_path varchar(255), title varchar(255), primary key (id))
2025-01-26 21:52:29 [restartedMain] DEBUG org.hibernate.SQL - create table student_profiles (birth_date date, has_allergies boolean, id bigint generated by default as identity, student_id bigint not null unique, allergies_details TEXT, birth_place varchar(255), blood_type varchar(255), emergency_contact varchar(255), emergency_phone varchar(255), gender varchar(255), medical_info TEXT, nationality varchar(255), photo_path varchar(255), special_needs TEXT, primary key (id))
2025-01-26 21:52:29 [restartedMain] DEBUG org.hibernate.SQL - create table subjects (coefficient float(53) not null, is_optional boolean, id bigint generated by default as identity, code varchar(255) not null unique, description TEXT, name varchar(255) not null unique, primary key (id))
2025-01-26 21:52:29 [restartedMain] DEBUG org.hibernate.SQL - create table subscription_plans (duration_months integer not null, is_active boolean, max_students integer, max_teachers integer, price numeric(38,2) not null, created_at timestamp(6), id bigint generated by default as identity, updated_at timestamp(6), code varchar(255) not null unique, description varchar(255), features VARCHAR(4000), name varchar(255) not null, primary key (id))
2025-01-26 21:52:29 [restartedMain] DEBUG org.hibernate.SQL - create table user_roles (role_id bigint not null, user_id bigint not null, primary key (role_id, user_id))
2025-01-26 21:52:29 [restartedMain] DEBUG org.hibernate.SQL - create table users (enabled boolean not null, class_id bigint, id bigint generated by default as identity, email varchar(255) unique, first_name varchar(255), last_name varchar(255), password varchar(255), username varchar(255) not null unique, primary key (id))
2025-01-26 21:52:29 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists attendances add constraint FKg8lphmp6k3q3l6gj7vl359tss foreign key (course_id) references courses
2025-01-26 21:52:29 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists attendances add constraint FKkwnledkii6f9l9dgpde0a9tv9 foreign key (recorded_by_id) references users
2025-01-26 21:52:29 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists attendances add constraint FK8rw9g2dvy0k41jwi5750bt1y5 foreign key (student_id) references users
2025-01-26 21:52:29 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists class_subjects add constraint FKck6avvuoer3mgm2mbjgs0gw6m foreign key (subject_id) references subjects
2025-01-26 21:52:29 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists class_subjects add constraint FKqj4bwb8mpht4mqjlx321qt7i0 foreign key (class_id) references classes
2025-01-26 21:52:29 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists classes add constraint FK50gy8ctobyp3hp4bbfmsfspra foreign key (level_id) references levels
2025-01-26 21:52:29 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists courses add constraint FKqjnhm94oa5lu7111u8ii2gna9 foreign key (class_id) references classes
2025-01-26 21:52:29 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists courses add constraint FKt423twvp6smhwx073dsqmwcpc foreign key (professor_id) references users
2025-01-26 21:52:29 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists courses add constraint FK5tckdihu5akp5nkxiacx1gfhi foreign key (subject_id) references subjects
2025-01-26 21:52:29 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists documents add constraint FKjk1sknm9o5hc52thd7lt0y8pw foreign key (parent_id) references users
2025-01-26 21:52:29 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists documents add constraint FKl8jfa6b5rwoypt1i3j7i362s1 foreign key (student_id) references users
2025-01-26 21:52:29 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists documents add constraint FKa8xyugvg1b1gjr07r5057pn5 foreign key (uploaded_by_id) references users
2025-01-26 21:52:29 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists documents add constraint FK80r7dshfnya5u81v195l36ny5 foreign key (validated_by_id) references users
2025-01-26 21:52:29 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists event_participants add constraint FKre6m0d4mgt4351tytlkac9jvf foreign key (user_id) references users
2025-01-26 21:52:29 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists event_participants add constraint FK2x391urx4up03f4jp2y9mdt5x foreign key (event_id) references events
2025-01-26 21:52:29 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists events add constraint FKbd320pnltw8sobixakxi103t2 foreign key (created_by_id) references users
2025-01-26 21:52:29 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists exam_results add constraint FKtf85ht7yquiorwjx2xbdx3fxw foreign key (exam_id) references exams
2025-01-26 21:52:29 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists exam_results add constraint FK4refju7revqup8sjjq86jrrcy foreign key (published_by_id) references users
2025-01-26 21:52:29 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists exam_results add constraint FKbst7kt9swkr8u9luyhxql1f10 foreign key (top_scorer_id) references users
2025-01-26 21:52:29 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists exams add constraint FKkq9895f263nw6qxibikek0t40 foreign key (class_id) references classes
2025-01-26 21:52:29 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists exams add constraint FKpb6t4jh679dskd6axk3ogdknk foreign key (created_by_id) references users
2025-01-26 21:52:29 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists exams add constraint FKopre4n7j7fpxqbtbwpv8ywn1y foreign key (subject_id) references subjects
2025-01-26 21:52:29 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists invoice_items add constraint FK46ae0lhu1oqs7cv91fn6y9n7w foreign key (invoice_id) references invoices
2025-01-26 21:52:29 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists invoices add constraint FKd747hw7mxi4sy6w4u8k1iwtvs foreign key (parent_id) references users
2025-01-26 21:52:29 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists invoices add constraint FKakkfiaesng8bjgonpf07bbp4p foreign key (student_id) references users
2025-01-26 21:52:29 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists learning_resources add constraint FKlx0uf6d81kmnjmn26uq0fki60 foreign key (subject_id) references subjects
2025-01-26 21:52:29 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists learning_resources add constraint FKrt0tptfq6pvehjktgqtwqwpee foreign key (uploaded_by_id) references users
2025-01-26 21:52:29 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists level_subjects add constraint FKfvhces8my0u9t9vwt0kwhldoc foreign key (subject_id) references subjects
2025-01-26 21:52:29 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists level_subjects add constraint FKe80it3r4wkd8eq3dcep9dv9vk foreign key (level_id) references levels
2025-01-26 21:52:29 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists messages add constraint FKhdkwfnspwb3s60j27vpg0rpg6 foreign key (recipient_id) references users
2025-01-26 21:52:29 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists messages add constraint FK4ui4nnwntodh6wjvck53dbk9m foreign key (sender_id) references users
2025-01-26 21:52:29 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists parent_profiles add constraint FK1u140ttd2ovtg6wgwv0pdkeys foreign key (parent_id) references users
2025-01-26 21:52:29 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists parent_student_associations add constraint FKt6wqsxs1th69wqx1hrvpt96e9 foreign key (created_by_id) references users
2025-01-26 21:52:29 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists parent_student_associations add constraint FK4xby8ktlhdwt9u9c4jdm6476h foreign key (parent_id) references users
2025-01-26 21:52:29 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists parent_student_associations add constraint FKfv1udupbvoanl9l5geg2drcsv foreign key (student_id) references users
2025-01-26 21:52:29 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists parent_student_associations add constraint FKb81ykx64dsdl53nuxkfmh4p2p foreign key (validated_by_id) references users
2025-01-26 21:52:29 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists payment_reminders add constraint FKt55f9q09q92nlaujqa937gvr3 foreign key (invoice_id) references invoices
2025-01-26 21:52:29 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists payments add constraint FKrbqec6be74wab8iifh8g3i50i foreign key (invoice_id) references invoices
2025-01-26 21:52:29 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists role_permissions add constraint FKegdk29eiy7mdtefy5c7eirr6e foreign key (permission_id) references permissions
2025-01-26 21:52:29 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists role_permissions add constraint FKn5fotdgk8d1xvo8nav9uv3muc foreign key (role_id) references roles
2025-01-26 21:52:29 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists room_equipment add constraint FKiyhaivc7it7c8go6ursatnvte foreign key (room_id) references rooms
2025-01-26 21:52:29 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists school_subscriptions add constraint FK190w3a6y6f8elju0mmhfk2vat foreign key (plan_id) references subscription_plans
2025-01-26 21:52:29 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists school_subscriptions add constraint FKalttc6scmditcumrr5a2dqkmu foreign key (school_id) references schools
2025-01-26 21:52:29 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists student_exams add constraint FK4fquxbl5dsgopumluf9dkxaav foreign key (exam_id) references exams
2025-01-26 21:52:29 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists student_exams add constraint FK10arl9w2ql4b8s4bl6cp9s1w foreign key (graded_by_id) references users
2025-01-26 21:52:29 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists student_exams add constraint FKi37r268vxkhv7ihfw4w4ggt4o foreign key (student_id) references users
2025-01-26 21:52:29 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists student_grades add constraint FK60cso44bavrtnd2lyk7ne73st foreign key (graded_by_id) references users
2025-01-26 21:52:29 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists student_grades add constraint FK1e0w7034ps7cgc6boikuhvv3h foreign key (student_id) references users
2025-01-26 21:52:29 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists student_grades add constraint FK2prq6208b200k5vwbupe5p5wx foreign key (subject_id) references subjects
2025-01-26 21:52:29 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists student_homework add constraint FKpgm5x8gjs4uaa6ws1ho1bo5cw foreign key (assigned_by_id) references users
2025-01-26 21:52:29 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists student_homework add constraint FKsnccqdotvah5stwrxx9wvho8f foreign key (student_id) references users
2025-01-26 21:52:29 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists student_homework add constraint FKf6qq32ih6pqqh90lx1onjl8fw foreign key (subject_id) references subjects
2025-01-26 21:52:29 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists student_profiles add constraint FKajdg7dttti80dosart71wk35v foreign key (student_id) references users
2025-01-26 21:52:29 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists user_roles add constraint FKh8ciramu9cc9q3qcqiv4ue8a6 foreign key (role_id) references roles
2025-01-26 21:52:29 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists user_roles add constraint FKhfh9dx7w3ubf1co1vdev94g3f foreign key (user_id) references users
2025-01-26 21:52:29 [restartedMain] DEBUG org.hibernate.SQL - alter table if exists users add constraint FKteip88j90fbo9odnc9gxpq6n1 foreign key (class_id) references classes
2025-01-26 21:52:29 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-26 21:52:29 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-01-26 21:52:30 [restartedMain] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'adminBillingController': Unsatisfied dependency expressed through field 'billingService': Error creating bean with name 'billingServiceImpl': Unsatisfied dependency expressed through field 'emailService': Error creating bean with name 'sendinBlueEmailServiceImpl' defined in file [C:\backup H\EclipseWorkspace\digitalSchool\target\classes\com\digital\school\service\impl\SendinBlueEmailServiceImpl.class]: Failed to instantiate [com.digital.school.service.impl.SendinBlueEmailServiceImpl]: Constructor threw exception
2025-01-26 21:52:30 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-26 21:52:30 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-01-26 21:52:30 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-01-26 21:52:30 [restartedMain] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-01-26 21:52:30 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-01-26 21:52:30 [restartedMain] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'adminBillingController': Unsatisfied dependency expressed through field 'billingService': Error creating bean with name 'billingServiceImpl': Unsatisfied dependency expressed through field 'emailService': Error creating bean with name 'sendinBlueEmailServiceImpl' defined in file [C:\backup H\EclipseWorkspace\digitalSchool\target\classes\com\digital\school\service\impl\SendinBlueEmailServiceImpl.class]: Failed to instantiate [com.digital.school.service.impl.SendinBlueEmailServiceImpl]: Constructor threw exception
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:787)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:767)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:145)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:508)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1439)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:975)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:971)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352)
	at com.digital.school.SchoolManagementApplication.main(SchoolManagementApplication.java:9)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:577)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'billingServiceImpl': Unsatisfied dependency expressed through field 'emailService': Error creating bean with name 'sendinBlueEmailServiceImpl' defined in file [C:\backup H\EclipseWorkspace\digitalSchool\target\classes\com\digital\school\service\impl\SendinBlueEmailServiceImpl.class]: Failed to instantiate [com.digital.school.service.impl.SendinBlueEmailServiceImpl]: Constructor threw exception
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:787)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:767)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:145)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:508)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1439)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:784)
	... 23 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sendinBlueEmailServiceImpl' defined in file [C:\backup H\EclipseWorkspace\digitalSchool\target\classes\com\digital\school\service\impl\SendinBlueEmailServiceImpl.class]: Failed to instantiate [com.digital.school.service.impl.SendinBlueEmailServiceImpl]: Constructor threw exception
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:318)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:306)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1375)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1212)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:784)
	... 37 common frames omitted
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.digital.school.service.impl.SendinBlueEmailServiceImpl]: Constructor threw exception
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:221)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:315)
	... 50 common frames omitted
Caused by: java.lang.NoSuchFieldError: Companion
	at okhttp3.internal.Util.<clinit>(Util.kt:70)
	at okhttp3.OkHttpClient.<clinit>(OkHttpClient.kt:1073)
	at sendinblue.ApiClient.<init>(ApiClient.java:80)
	at com.digital.school.service.impl.SendinBlueEmailServiceImpl.<init>(SendinBlueEmailServiceImpl.java:28)
	at java.base/jdk.internal.reflect.DirectConstructorHandleAccessor.newInstance(DirectConstructorHandleAccessor.java:67)
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:483)
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:208)
	... 52 common frames omitted
