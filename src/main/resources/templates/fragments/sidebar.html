<div th:fragment="sidebar" class="sidebar">
    <div class="logo-container">
        <a th:href="@{/}">
            <img src="/images/digitalSchool.png" th:src="@{/images/digitalSchool.png}" alt="Logo">
            <span>Digital School</span>
        </a>
    </div>
    <nav class="nav-items">
        <!-- Menu Administrateur -->
        <div sec:authorize="hasRole('ROLE_ADMIN')">
            <a href="/admin/dashboard" class="nav-item" th:classappend="${currentURI == '/admin/dashboard' ? 'active' : ''}">
                <i class="fas fa-chart-line"></i>
                <span>Tableau de bord</span>
            </a>

            <!-- Groupe Académique -->
            <div class="nav-group">
                <div class="nav-group-header">
                    <i class="fas fa-graduation-cap"></i>
                    <span>Academique</span>
                    <i class="fas fa-chevron-down"></i>
                </div>
                <div class="nav-group-content">
                    <a href="/admin/levels" class="nav-item" th:classappend="${currentURI == '/admin/levels' ? 'active' : ''}">
                        <i class="fas fa-layer-group"></i>
                        <span>Niveaux</span>
                    </a>
                    <a href="/admin/classes" class="nav-item" th:classappend="${currentURI == '/admin/classes' ? 'active' : ''}">
                        <i class="fas fa-school"></i>
                        <span>Classes</span>
                    </a>
                    <a href="/admin/subjects" class="nav-item" th:classappend="${currentURI == '/admin/subjects' ? 'active' : ''}">
                        <i class="fas fa-book"></i>
                        <span>Matières</span>
                    </a>
                    <a href="/admin/courses" class="nav-item" th:classappend="${currentURI == '/admin/courses' ? 'active' : ''}">
                        <i class="fas fa-chalkboard-teacher"></i>
                        <span>Cours</span>
                    </a>
                </div>
            </div>

            <!-- Groupe Utilisateurs -->
            <div class="nav-group">
                <div class="nav-group-header">
                    <i class="fas fa-users"></i>
                    <span>Utilisateurs</span>
                    <i class="fas fa-chevron-down"></i>
                </div>
                <div class="nav-group-content">
                    <a href="/admin/users" class="nav-item" th:classappend="${currentURI == '/admin/users' ? 'active' : ''}">
                        <i class="fas fa-user-cog"></i>
                        <span>Gestion</span>
                    </a>
                    <a href="/admin/profiles" class="nav-item" th:classappend="${currentURI == '/admin/profiles' ? 'active' : ''}">
                        <i class="fas fa-id-card"></i>
                        <span>Profils</span>
                    </a>
                </div>
            </div>

            <!-- Groupe Administration -->
            <div class="nav-group">
                <div class="nav-group-header">
                    <i class="fas fa-cogs"></i>
                    <span>Administration</span>
                    <i class="fas fa-chevron-down"></i>
                </div>
                <div class="nav-group-content">
                    <a href="/admin/rooms" class="nav-item" th:classappend="${currentURI == '/admin/rooms' ? 'active' : ''}">
                        <i class="fas fa-door-open"></i>
                        <span>Salles</span>
                    </a>
                    <a href="/admin/resources" class="nav-item" th:classappend="${currentURI == '/admin/resources' ? 'active' : ''}">
                        <i class="fas fa-file-alt"></i>
                        <span>Resources</span>
                    </a>
                    <a href="/calendar" class="nav-item" th:classappend="${currentURI == '/calendar' ? 'active' : ''}">
                        <i class="fas fa-calendar-alt"></i>
                        <span>Emploi du temps</span>
                    </a>
                </div>
            </div>
        </div>

        <!-- Menu Professeur -->
        <div sec:authorize="hasRole('ROLE_PROFESSOR')">
            <a href="/professor/dashboard" class="nav-item" th:classappend="${currentURI == '/professor/dashboard' ? 'active' : ''}">
                <i class="fas fa-home"></i>
                <span>Accueil</span>
            </a>
            <a href="/professor/courses" class="nav-item" th:classappend="${currentURI == '/professor/courses' ? 'active' : ''}">
                <i class="fas fa-chalkboard-teacher"></i>
                <span>Mes Cours</span>
            </a>
            <a href="/calendar" class="nav-item" th:classappend="${currentURI == '/calendar' ? 'active' : ''}">
                <i class="fas fa-calendar-alt"></i>
                <span>Emploi du temps</span>
            </a>
            <a href="/professor/homeworks" class="nav-item" th:classappend="${currentURI == '/professor/homeworks' ? 'active' : ''}">
                <i class="fas fa-tasks"></i>
                <span>Devoirs</span>
            </a>
            <a href="/professor/attendances" class="nav-item" th:classappend="${currentURI == '/professor/attendances' ? 'active' : ''}">
                <i class="fas fa-star"></i>
                <span>Presences</span>
            </a>
            <a href="/professor/grades" class="nav-item" th:classappend="${currentURI == '/professor/grades' ? 'active' : ''}">
                <i class="fas fa-star"></i>
                <span>Notes</span>
            </a>
            <a href="/professor/participations" class="nav-item" th:classappend="${currentURI == '/professor/participations' ? 'active' : ''}">
                <i class="fas fa-tasks"></i>
                <span>Participations</span>
            </a>

        </div>

        <!-- Menu Élève -->
        <div sec:authorize="hasRole('ROLE_STUDENT')">
            <a href="/student/dashboard" class="nav-item" th:classappend="${currentURI == '/student/dashboard' ? 'active' : ''}">
                <i class="fas fa-home"></i>
                <span>Accueil</span>
            </a>
            <a href="/student/courses" class="nav-item" th:classappend="${currentURI == '/student/courses' ? 'active' : ''}">
                <i class="fas fa-book"></i>
                <span>Cours</span>
            </a>
            <a href="/calendar" class="nav-item" th:classappend="${currentURI == '/calendar' ? 'active' : ''}">
                <i class="fas fa-calendar-alt"></i>
                <span>Emploi du temps</span>
            </a>
            <a href="/student/homework" class="nav-item" th:classappend="${currentURI == '/student/assignments' ? 'active' : ''}">
                <i class="fas fa-tasks"></i>
                <span>Devoirs</span>
            </a>
            <a href="/student/grades" class="nav-item" th:classappend="${currentURI == '/student/grades' ? 'active' : ''}">
                <i class="fas fa-chart-bar"></i>
                <span>Notes</span>
            </a>
        </div>

        <!-- Menu commun -->
        <div class="common-menu">
            <a href="/messages" class="nav-item" th:classappend="${currentURI == '/messages' ? 'active' : ''}">
                <i class="fas fa-comments"></i>
                <span>Messages</span>
            </a>
            <a href="/settings" class="nav-item" th:classappend="${currentURI == '/settings' ? 'active' : ''}">
                <i class="fas fa-cog"></i>
                <span>Paramètres</span>
            </a>
        </div>
    </nav>
</div>

